import{u as v}from"./product-types-gZDu6wo-.js";import{u as _}from"./sales-channels--fho5-f4.js";import{u as n,j as t}from"./index-S--WvUSo.js";import{u as y}from"./use-data-table-TeZp00wg.js";import{r as g}from"./react-PzSkSLoa.js";import{P as h}from"./placeholder-cell-O6UVTGmQ.js";import{P as S,a as C}from"./product-cell-gRltbXZC.js";import{S as N}from"./status-cell-9XExsAIG.js";import{T as P}from"./tooltip-Ixyw9oT8.js";import{c as w}from"./index-JDlOzmVl.js";const L=e=>{const{t:s}=n(),{product_types:l}=v({limit:1e3,offset:0}),o=e==null?void 0:e.includes("sales_channel_id"),{sales_channels:c}=_({limit:1e3,fields:"id,name"},{enabled:!o});e==null||e.includes("categories"),e==null||e.includes("collections");let a=[];if(l){const r={key:"type_id",label:s("fields.type"),type:"select",multiple:!0,options:l.map(i=>({label:i.value,value:i.id}))};a=[...a,r]}if(c){const r={key:"sales_channel_id",label:s("fields.salesChannel"),type:"select",multiple:!0,options:c.map(i=>({label:i.name,value:i.id}))};a=[...a,r]}const f={key:"is_giftcard",label:s("fields.giftCard"),type:"select",options:[{label:s("fields.true"),value:"true"},{label:s("fields.false"),value:"false"}]},d={key:"status",label:s("fields.status"),type:"select",multiple:!0,options:[{label:s("products.productStatus.draft"),value:"draft"},{label:s("products.productStatus.proposed"),value:"proposed"},{label:s("products.productStatus.published"),value:"published"},{label:s("products.productStatus.rejected"),value:"rejected"}]},u=[{label:s("fields.createdAt"),key:"created_at"},{label:s("fields.updatedAt"),key:"updated_at"}].map(r=>({key:r.key,label:r.label,type:"date"}));return a=[...a,d,f,...u],a},U=({prefix:e,pageSize:s=20})=>{const l=y(["offset","order","q","created_at","updated_at","sales_channel_id","category_id","collection_id","is_giftcard","tags","type_id","status","id"],e),{offset:o,sales_channel_id:c,created_at:a,updated_at:f,category_id:d,collection_id:u,tags:r,type_id:i,is_giftcard:j,status:m,order:x,q:b}=l;return{searchParams:{limit:s,offset:o?Number(o):0,sales_channel_id:c==null?void 0:c.split(","),created_at:a?JSON.parse(a):void 0,updated_at:f?JSON.parse(f):void 0,category_id:d==null?void 0:d.split(","),collection_id:u==null?void 0:u.split(","),is_giftcard:j?j==="true":void 0,order:x,tags:r==null?void 0:r.split(","),type_id:i==null?void 0:i.split(","),status:m==null?void 0:m.split(","),q:b},raw:l}},k=({collection:e})=>e?t.jsx("div",{className:"flex h-full w-full items-center overflow-hidden",children:t.jsx("span",{className:"truncate",children:e.title})}):t.jsx(h,{}),H=()=>{const{t:e}=n();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{children:e("fields.collection")})})},T=({status:e})=>{const{t:s}=n(),[l,o]={draft:["grey",s("products.productStatus.draft")],proposed:["orange",s("products.productStatus.proposed")],published:["green",s("products.productStatus.published")],rejected:["red",s("products.productStatus.rejected")]}[e];return t.jsx(N,{color:l,children:o})},F=()=>{const{t:e}=n();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{children:e("fields.status")})})},q=({salesChannels:e})=>{const{t:s}=n();return!e||!e.length?t.jsx(h,{}):e.length>2?t.jsxs("div",{className:"flex h-full w-full items-center gap-x-1 overflow-hidden",children:[t.jsx("span",{className:"truncate",children:e.slice(0,2).map(l=>l.name).join(", ")}),t.jsx(P,{content:t.jsx("ul",{children:e.slice(2).map(l=>t.jsx("li",{children:l.name},l.id))}),children:t.jsx("span",{className:"text-xs",children:s("general.plusCountMore",{count:e.length-2})})})]}):t.jsx("div",{className:"flex h-full w-full items-center overflow-hidden",children:t.jsx("span",{className:"truncate",children:e.map(l=>l.name).join(", ")})})},E=()=>{const{t:e}=n();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{children:e("fields.salesChannels")})})},O=({variants:e})=>{const{t:s}=n();return!e||!e.length?t.jsx(h,{}):t.jsx("div",{className:"flex h-full w-full items-center overflow-hidden",children:t.jsx("span",{className:"truncate",children:s("products.variantCount",{count:e.length})})})},A=()=>{const{t:e}=n();return t.jsx("div",{className:"flex h-full w-full items-center",children:t.jsx("span",{children:e("fields.variants")})})},p=w(),W=()=>g.useMemo(()=>[p.display({id:"product",header:()=>t.jsx(S,{}),cell:({row:e})=>t.jsx(C,{product:e.original})}),p.accessor("collection",{header:()=>t.jsx(H,{}),cell:({row:e})=>t.jsx(k,{collection:e.original.collection})}),p.accessor("sales_channels",{header:()=>t.jsx(E,{}),cell:({row:e})=>t.jsx(q,{salesChannels:e.original.sales_channels})}),p.accessor("variants",{header:()=>t.jsx(A,{}),cell:({row:e})=>t.jsx(O,{variants:e.original.variants})}),p.accessor("status",{header:()=>t.jsx(F,{}),cell:({row:e})=>t.jsx(T,{status:e.original.status})})],[]);export{L as a,W as b,U as u};
