import{u as x,j as r}from"./index-S--WvUSo.js";import{u as j,R as t}from"./route-focus-modal-MMx5Xnk0.js";import{t as h}from"./zod-jt04JUtm.js";import{u as g,F as e}from"./form-0PHaH8g8.js";import{z as a}from"./index-JzuMwgWW.js";import{C}from"./chip-input-0ngzOWvs.js";import{c as v,a as b}from"./products-_PEbH1CR.js";import{t as p}from"./toast-4oQfF9Sm.js";import{I as y}from"./input-A29ux7yj.js";import{B as u}from"./button-Pc5Xo8ua.js";import{c as F}from"./react-router-dom-aSYyayiN.js";import{H as P}from"./heading-cSlef4Su.js";import"./react-PzSkSLoa.js";import"./react-dom-Og6--24v.js";import"./drawer-H3TI1lDZ.js";import"./index-sF0hA49A.js";import"./prompt-LzbVPZYR.js";import"./information-circle-solid-rXH6vJ5W.js";import"./label-HFq5fzpT.js";import"./tooltip-Ixyw9oT8.js";import"./index-99zzh8bn.js";import"./motion-jlFaYIfJ.js";import"./x-mark-mini-aYDSd38M.js";import"./badge-99FyByJO.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";const L=a.object({title:a.string().min(1),values:a.array(a.string()).optional()}),S=({product:c})=>{const{t:s}=x(),{handleSuccess:n}=j(),o=g({defaultValues:{title:"",values:[]},resolver:h(L)}),{mutateAsync:l,isPending:m}=v(c.id),f=o.handleSubmit(async i=>{l(i,{onSuccess:({option:d})=>{p.success(s("general.success"),{description:s("products.options.create.successToast",{title:d.title}),dismissLabel:s("general.close")}),n()},onError:async d=>{p.error(s("general.error"),{description:d.message,dismissLabel:s("general.close")})}})});return r.jsx(t.Form,{form:o,children:r.jsxs("form",{onSubmit:f,className:"flex flex-1 flex-col overflow-hidden",children:[r.jsxs(t.Body,{className:"flex flex-1 flex-col gap-y-8 overflow-auto",children:[r.jsx(e.Field,{control:o.control,name:"title",render:({field:i})=>r.jsxs(e.Item,{children:[r.jsx(e.Label,{children:s("products.fields.options.optionTitle")}),r.jsx(e.Control,{children:r.jsx(y,{...i})}),r.jsx(e.ErrorMessage,{})]})}),r.jsx(e.Field,{control:o.control,name:"values",render:({field:i})=>r.jsxs(e.Item,{children:[r.jsx(e.Label,{children:s("products.fields.options.variations")}),r.jsx(e.Control,{children:r.jsx(C,{...i})}),r.jsx(e.ErrorMessage,{})]})})]}),r.jsx(t.Footer,{children:r.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[r.jsx(t.Close,{asChild:!0,children:r.jsx(u,{variant:"secondary",size:"small",children:s("actions.cancel")})}),r.jsx(u,{type:"submit",size:"small",isLoading:m,children:s("actions.save")})]})})]})})},_=()=>{const{id:c}=F(),{t:s}=x(),{product:n,isLoading:o,isError:l,error:m}=b(c);if(l)throw m;return r.jsxs(t,{children:[r.jsx(t.Header,{children:r.jsx(P,{children:s("products.options.create.header")})}),!o&&n&&r.jsx(S,{product:n})]})};export{_ as Component};
