import{u as h,H as x,j as t}from"./index-S--WvUSo.js";import{t as _}from"./zod-jt04JUtm.js";import{u as j}from"./form-0PHaH8g8.js";import{A as y}from"./address-form-RhsKatlN.js";import{u as d,R as e}from"./route-focus-modal-MMx5Xnk0.js";import{A as g}from"./schemas-d4mcifo0.js";import{B as l}from"./button-Pc5Xo8ua.js";const B=({order:s,countries:n,type:o})=>{const{t:c}=h(),{handleSuccess:a}=d(),i=j({defaultValues:v(s,o),resolver:_(g)}),{mutateAsync:r,isLoading:m}=x(s.id),u=i.handleSubmit(async p=>{const f={[o==="shipping"?"shipping_address":"billing_address"]:p};r(f,{onSuccess:()=>{a()}})});return t.jsx(e.Form,{form:i,children:t.jsxs("form",{onSubmit:u,className:"flex size-full flex-col overflow-hidden",children:[t.jsx(e.Body,{className:"size-full flex-1 overflow-auto",children:t.jsx(y,{control:i.control,countries:n,layout:"stack"})}),t.jsx(e.Footer,{children:t.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[t.jsx(e.Close,{asChild:!0,children:t.jsx(l,{variant:"secondary",size:"small",children:c("actions.cancel")})}),t.jsx(l,{type:"submit",isLoading:m,size:"small",children:c("actions.save")})]})})]})})},v=(s,n)=>{const o=n==="shipping"?s.shipping_address:s.billing_address;return{first_name:(o==null?void 0:o.first_name)??"",last_name:(o==null?void 0:o.last_name)??"",address_1:(o==null?void 0:o.address_1)??"",address_2:(o==null?void 0:o.address_2)??"",city:(o==null?void 0:o.city)??"",postal_code:(o==null?void 0:o.postal_code)??"",province:(o==null?void 0:o.province)??"",country_code:(o==null?void 0:o.country_code)??"",phone:(o==null?void 0:o.phone)??"",company:(o==null?void 0:o.company)??""}};export{B as E};
