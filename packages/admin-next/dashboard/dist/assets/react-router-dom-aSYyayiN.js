import{r as p,R as Cr}from"./react-PzSkSLoa.js";import{R as Mr}from"./react-dom-Og6--24v.js";/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k.apply(this,arguments)}var W;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(W||(W={}));const jt="popstate";function Tr(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:l,hash:c}=n.location;return He("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Re(a)}return Fr(t,r,null,e)}function T(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function be(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ur(){return Math.random().toString(36).substr(2,8)}function At(e,t){return{usr:e.state,key:e.key,idx:t}}function He(e,t,r,n){return r===void 0&&(r=null),k({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ue(t):t,{state:r,key:t&&t.key||n||Ur()})}function Re(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ue(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Fr(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,l=a.history,c=W.Pop,s=null,d=m();d==null&&(d=0,l.replaceState(k({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function b(){c=W.Pop;let E=m(),D=E==null?null:E-d;d=E,s&&s({action:c,location:w.location,delta:D})}function v(E,D){c=W.Push;let O=He(w.location,E,D);r&&r(O,E),d=m()+1;let N=At(O,d),f=w.createHref(O);try{l.pushState(N,"",f)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(f)}o&&s&&s({action:c,location:w.location,delta:1})}function C(E,D){c=W.Replace;let O=He(w.location,E,D);r&&r(O,E),d=m();let N=At(O,d),f=w.createHref(O);l.replaceState(N,"",f),o&&s&&s({action:c,location:w.location,delta:0})}function y(E){let D=a.location.origin!=="null"?a.location.origin:a.location.href,O=typeof E=="string"?E:Re(E);return T(D,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,D)}let w={get action(){return c},get location(){return e(a,l)},listen(E){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(jt,b),s=E,()=>{a.removeEventListener(jt,b),s=null}},createHref(E){return t(a,E)},createURL:y,encodeLocation(E){let D=y(E);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:v,replace:C,go(E){return l.go(E)}};return w}var $;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($||($={}));const Or=new Set(["lazy","caseSensitive","path","id","index","children"]);function jr(e){return e.index===!0}function ht(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((a,o)=>{let l=[...r,o],c=typeof a.id=="string"?a.id:l.join("-");if(T(a.index!==!0||!a.children,"Cannot specify children on an index route"),T(!n[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),jr(a)){let s=k({},a,t(a),{id:c});return n[c]=s,s}else{let s=k({},a,t(a),{id:c,children:void 0});return n[c]=s,a.children&&(s.children=ht(a.children,t,l,n)),s}})}function Ce(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?ue(t):t,a=he(n.pathname||"/",r);if(a==null)return null;let o=Zt(e);Ar(o);let l=null;for(let c=0;l==null&&c<o.length;++c)l=Kr(o[c],Jr(a));return l}function Qt(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],handle:r.handle}}function Zt(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,l,c)=>{let s={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};s.relativePath.startsWith("/")&&(T(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(n.length));let d=se([n,s.relativePath]),m=r.concat(s);o.children&&o.children.length>0&&(T(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Zt(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:Wr(d,o.index),routesMeta:m})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,l);else for(let s of er(o.path))a(o,l,s)}),t}function er(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let l=er(n.join("/")),c=[];return c.push(...l.map(s=>s===""?o:[o,s].join("/"))),a&&c.push(...l),c.map(s=>e.startsWith("/")&&s===""?"/":s)}function Ar(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$r(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Nr=/^:\w+$/,_r=3,Ir=2,Br=1,zr=10,kr=-2,Nt=e=>e==="*";function Wr(e,t){let r=e.split("/"),n=r.length;return r.some(Nt)&&(n+=kr),t&&(n+=Ir),r.filter(a=>!Nt(a)).reduce((a,o)=>a+(Nr.test(o)?_r:o===""?Br:zr),n)}function $r(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Kr(e,t){let{routesMeta:r}=e,n={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],s=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",m=Vr({path:c.relativePath,caseSensitive:c.caseSensitive,end:s},d);if(!m)return null;Object.assign(n,m.params);let b=c.route;o.push({params:n,pathname:se([a,m.pathname]),pathnameBase:Xr(se([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=se([a,m.pathnameBase]))}return o}function Vr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Hr(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],l=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((d,m,b)=>{let{paramName:v,isOptional:C}=m;if(v==="*"){let w=c[b]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[b];return C&&!y?d[v]=void 0:d[v]=qr(y||"",v),d},{}),pathname:o,pathnameBase:l,pattern:e}}function Hr(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),be(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(l,c,s)=>(n.push({paramName:c,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Jr(e){try{return decodeURI(e)}catch(t){return be(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qr(e,t){try{return decodeURIComponent(e)}catch(r){return be(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),e}}function he(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Yr(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ue(e):e;return{pathname:r?r.startsWith("/")?r:Gr(r,t):t,search:Qr(n),hash:Zr(a)}}function Gr(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ct(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qe(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ze(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ue(e):(a=k({},e),T(!a.pathname||!a.pathname.includes("?"),ct("?","pathname","search",a)),T(!a.pathname||!a.pathname.includes("#"),ct("#","pathname","hash",a)),T(!a.search||!a.search.includes("#"),ct("#","search","hash",a)));let o=e===""||a.pathname==="",l=o?"/":a.pathname,c;if(l==null)c=r;else if(n){let b=t[t.length-1].replace(/^\//,"").split("/");if(l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),b.pop();a.pathname=v.join("/")}c="/"+b.join("/")}else{let b=t.length-1;if(l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),b-=1;a.pathname=v.join("/")}c=b>=0?t[b]:"/"}let s=Yr(a,c),d=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(d||m)&&(s.pathname+="/"),s}const se=e=>e.join("/").replace(/\/\/+/g,"/"),Xr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Zr=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ra=function(t,r){r===void 0&&(r={});let n=typeof r=="number"?{status:r}:r,a=new Headers(n.headers);return a.has("Content-Type")||a.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(t),k({},n,{headers:a}))};class yt{constructor(t,r,n,a){a===void 0&&(a=!1),this.status=t,this.statusText=r||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function tr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rr=["post","put","patch","delete"],en=new Set(rr),tn=["get",...rr],rn=new Set(tn),nn=new Set([301,302,303,307,308]),an=new Set([307,308]),dt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},on={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},De={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},nr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),ar="remix-router-transitions";function sn(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;T(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a;if(e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let i=e.detectErrorBoundary;a=u=>({hasErrorBoundary:i(u)})}else a=ln;let o={},l=ht(e.routes,a,void 0,o),c,s=e.basename||"/",d=k({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),m=null,b=new Set,v=null,C=null,y=null,w=e.hydrationData!=null,E=Ce(l,e.history.location,s),D=null;if(E==null){let i=Z(404,{pathname:e.history.location.pathname}),{matches:u,route:h}=Kt(l);E=u,D={[h.id]:i}}let O=!E.some(i=>i.route.lazy)&&(!E.some(i=>i.route.loader)||e.hydrationData!=null),N,f={historyAction:e.history.action,location:e.history.location,matches:E,initialized:O,navigation:dt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||D,fetchers:new Map,blockers:new Map},_=W.Pop,B=!1,P,H=!1,I=new Map,ee=null,J=!1,te=!1,X=[],xe=[],K=new Map,Ye=0,je=-1,Ee=new Map,ie=new Set,Se=new Map,Ae=new Map,le=new Set,pe=new Map,ge=new Map,nt=!1;function hr(){if(m=e.history.listen(i=>{let{action:u,location:h,delta:g}=i;if(nt){nt=!1;return}be(ge.size===0||g!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let R=Tt({currentLocation:f.location,nextLocation:h,historyAction:u});if(R&&g!=null){nt=!0,e.history.go(g*-1),Xe(R,{state:"blocked",location:h,proceed(){Xe(R,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),e.history.go(g)},reset(){let M=new Map(f.blockers);M.set(R,De),G({blockers:M})}});return}return ve(u,h)}),r){wn(t,I);let i=()=>bn(t,I);t.addEventListener("pagehide",i),ee=()=>t.removeEventListener("pagehide",i)}return f.initialized||ve(W.Pop,f.location),N}function mr(){m&&m(),ee&&ee(),b.clear(),P&&P.abort(),f.fetchers.forEach((i,u)=>Ge(u)),f.blockers.forEach((i,u)=>Mt(u))}function pr(i){return b.add(i),()=>b.delete(i)}function G(i,u){u===void 0&&(u={}),f=k({},f,i);let h=[],g=[];d.v7_fetcherPersist&&f.fetchers.forEach((R,M)=>{R.state==="idle"&&(le.has(M)?g.push(M):h.push(M))}),[...b].forEach(R=>R(f,{deletedFetchers:g,unstable_viewTransitionOpts:u.viewTransitionOpts,unstable_flushSync:u.flushSync===!0})),d.v7_fetcherPersist&&(h.forEach(R=>f.fetchers.delete(R)),g.forEach(R=>Ge(R)))}function Ne(i,u,h){var g,R;let{flushSync:M}=h===void 0?{}:h,L=f.actionData!=null&&f.navigation.formMethod!=null&&ne(f.navigation.formMethod)&&f.navigation.state==="loading"&&((g=i.state)==null?void 0:g._isRedirect)!==!0,S;u.actionData?Object.keys(u.actionData).length>0?S=u.actionData:S=null:L?S=f.actionData:S=null;let x=u.loaderData?$t(f.loaderData,u.loaderData,u.matches||[],u.errors):f.loaderData,F=f.blockers;F.size>0&&(F=new Map(F),F.forEach((j,z)=>F.set(z,De)));let q=B===!0||f.navigation.formMethod!=null&&ne(f.navigation.formMethod)&&((R=i.state)==null?void 0:R._isRedirect)!==!0;c&&(l=c,c=void 0),J||_===W.Pop||(_===W.Push?e.history.push(i,i.state):_===W.Replace&&e.history.replace(i,i.state));let U;if(_===W.Pop){let j=I.get(f.location.pathname);j&&j.has(i.pathname)?U={currentLocation:f.location,nextLocation:i}:I.has(i.pathname)&&(U={currentLocation:i,nextLocation:f.location})}else if(H){let j=I.get(f.location.pathname);j?j.add(i.pathname):(j=new Set([i.pathname]),I.set(f.location.pathname,j)),U={currentLocation:f.location,nextLocation:i}}G(k({},u,{actionData:S,loaderData:x,historyAction:_,location:i,initialized:!0,navigation:dt,revalidation:"idle",restoreScrollPosition:Ft(i,u.matches||f.matches),preventScrollReset:q,blockers:F}),{viewTransitionOpts:U,flushSync:M===!0}),_=W.Pop,B=!1,H=!1,J=!1,te=!1,X=[],xe=[]}async function Et(i,u){if(typeof i=="number"){e.history.go(i);return}let h=mt(f.location,f.matches,s,d.v7_prependBasename,i,u==null?void 0:u.fromRouteId,u==null?void 0:u.relative),{path:g,submission:R,error:M}=_t(d.v7_normalizeFormMethod,!1,h,u),L=f.location,S=He(f.location,g,u&&u.state);S=k({},S,e.history.encodeLocation(S));let x=u&&u.replace!=null?u.replace:void 0,F=W.Push;x===!0?F=W.Replace:x===!1||R!=null&&ne(R.formMethod)&&R.formAction===f.location.pathname+f.location.search&&(F=W.Replace);let q=u&&"preventScrollReset"in u?u.preventScrollReset===!0:void 0,U=(u&&u.unstable_flushSync)===!0,j=Tt({currentLocation:L,nextLocation:S,historyAction:F});if(j){Xe(j,{state:"blocked",location:S,proceed(){Xe(j,{state:"proceeding",proceed:void 0,reset:void 0,location:S}),Et(i,u)},reset(){let z=new Map(f.blockers);z.set(j,De),G({blockers:z})}});return}return await ve(F,S,{submission:R,pendingError:M,preventScrollReset:q,replace:u&&u.replace,enableViewTransition:u&&u.unstable_viewTransition,flushSync:U})}function gr(){if(at(),G({revalidation:"loading"}),f.navigation.state!=="submitting"){if(f.navigation.state==="idle"){ve(f.historyAction,f.location,{startUninterruptedRevalidation:!0});return}ve(_||f.historyAction,f.navigation.location,{overrideNavigation:f.navigation})}}async function ve(i,u,h){P&&P.abort(),P=null,_=i,J=(h&&h.startUninterruptedRevalidation)===!0,Lr(f.location,f.matches),B=(h&&h.preventScrollReset)===!0,H=(h&&h.enableViewTransition)===!0;let g=c||l,R=h&&h.overrideNavigation,M=Ce(g,u,s),L=(h&&h.flushSync)===!0;if(!M){let z=Z(404,{pathname:u.pathname}),{matches:Y,route:ae}=Kt(g);ot(),Ne(u,{matches:Y,loaderData:{},errors:{[ae.id]:z}},{flushSync:L});return}if(f.initialized&&!te&&hn(f.location,u)&&!(h&&h.submission&&ne(h.submission.formMethod))){Ne(u,{matches:M},{flushSync:L});return}P=new AbortController;let S=ke(e.history,u,P.signal,h&&h.submission),x,F;if(h&&h.pendingError)F={[Ke(M).route.id]:h.pendingError};else if(h&&h.submission&&ne(h.submission.formMethod)){let z=await vr(S,u,h.submission,M,{replace:h.replace,flushSync:L});if(z.shortCircuited)return;x=z.pendingActionData,F=z.pendingActionError,R=ft(u,h.submission),L=!1,S=new Request(S.url,{signal:S.signal})}let{shortCircuited:q,loaderData:U,errors:j}=await yr(S,u,M,R,h&&h.submission,h&&h.fetcherSubmission,h&&h.replace,L,x,F);q||(P=null,Ne(u,k({matches:M},x?{actionData:x}:{},{loaderData:U,errors:j})))}async function vr(i,u,h,g,R){R===void 0&&(R={}),at();let M=vn(u,h);G({navigation:M},{flushSync:R.flushSync===!0});let L,S=gt(g,u);if(!S.route.action&&!S.route.lazy)L={type:$.error,error:Z(405,{method:i.method,pathname:u.pathname,routeId:S.route.id})};else if(L=await ze("action",i,S,g,o,a,s),i.signal.aborted)return{shortCircuited:!0};if(Me(L)){let x;return R&&R.replace!=null?x=R.replace:x=L.location===f.location.pathname+f.location.search,await _e(f,L,{submission:h,replace:x}),{shortCircuited:!0}}if(Ve(L)){let x=Ke(g,S.route.id);return(R&&R.replace)!==!0&&(_=W.Push),{pendingActionData:{},pendingActionError:{[x.route.id]:L.error}}}if(we(L))throw Z(400,{type:"defer-action"});return{pendingActionData:{[S.route.id]:L.data}}}async function yr(i,u,h,g,R,M,L,S,x,F){let q=g||ft(u,R),U=R||M||Jt(q),j=c||l,[z,Y]=It(e.history,f,h,U,u,te,X,xe,le,Se,ie,j,s,x,F);if(ot(A=>!(h&&h.some(Q=>Q.route.id===A))||z&&z.some(Q=>Q.route.id===A)),je=++Ye,z.length===0&&Y.length===0){let A=Dt();return Ne(u,k({matches:h,loaderData:{},errors:F||null},x?{actionData:x}:{},A?{fetchers:new Map(f.fetchers)}:{}),{flushSync:S}),{shortCircuited:!0}}if(!J){Y.forEach(Q=>{let V=f.fetchers.get(Q.key),ye=We(void 0,V?V.data:void 0);f.fetchers.set(Q.key,ye)});let A=x||f.actionData;G(k({navigation:q},A?Object.keys(A).length===0?{actionData:null}:{actionData:A}:{},Y.length>0?{fetchers:new Map(f.fetchers)}:{}),{flushSync:S})}Y.forEach(A=>{K.has(A.key)&&de(A.key),A.controller&&K.set(A.key,A.controller)});let ae=()=>Y.forEach(A=>de(A.key));P&&P.signal.addEventListener("abort",ae);let{results:Be,loaderResults:it,fetcherResults:Le}=await St(f.matches,h,z,Y,i);if(i.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",ae),Y.forEach(A=>K.delete(A.key));let re=Vt(Be);if(re){if(re.idx>=z.length){let A=Y[re.idx-z.length].key;ie.add(A)}return await _e(f,re.result,{replace:L}),{shortCircuited:!0}}let{loaderData:Qe,errors:lt}=Wt(f,h,z,it,F,Y,Le,pe);pe.forEach((A,Q)=>{A.subscribe(V=>{(V||A.done)&&pe.delete(Q)})});let st=Dt(),ut=Ct(je),Pe=st||ut||Y.length>0;return k({loaderData:Qe,errors:lt},Pe?{fetchers:new Map(f.fetchers)}:{})}function wr(i,u,h,g){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");K.has(i)&&de(i);let R=(g&&g.unstable_flushSync)===!0,M=c||l,L=mt(f.location,f.matches,s,d.v7_prependBasename,h,u,g==null?void 0:g.relative),S=Ce(M,L,s);if(!S){Ie(i,u,Z(404,{pathname:L}),{flushSync:R});return}let{path:x,submission:F,error:q}=_t(d.v7_normalizeFormMethod,!0,L,g);if(q){Ie(i,u,q,{flushSync:R});return}let U=gt(S,x);if(B=(g&&g.preventScrollReset)===!0,F&&ne(F.formMethod)){br(i,u,x,U,S,R,F);return}Se.set(i,{routeId:u,path:x}),Rr(i,u,x,U,S,R,F)}async function br(i,u,h,g,R,M,L){if(at(),Se.delete(i),!g.route.action&&!g.route.lazy){let V=Z(405,{method:L.formMethod,pathname:h,routeId:u});Ie(i,u,V,{flushSync:M});return}let S=f.fetchers.get(i);ce(i,yn(L,S),{flushSync:M});let x=new AbortController,F=ke(e.history,h,x.signal,L);K.set(i,x);let q=Ye,U=await ze("action",F,g,R,o,a,s);if(F.signal.aborted){K.get(i)===x&&K.delete(i);return}if(le.has(i)){ce(i,fe(void 0));return}if(Me(U))if(K.delete(i),je>q){ce(i,fe(void 0));return}else return ie.add(i),ce(i,We(L)),_e(f,U,{fetcherSubmission:L});if(Ve(U)){Ie(i,u,U.error);return}if(we(U))throw Z(400,{type:"defer-action"});let j=f.navigation.location||f.location,z=ke(e.history,j,x.signal),Y=c||l,ae=f.navigation.state!=="idle"?Ce(Y,f.navigation.location,s):f.matches;T(ae,"Didn't find any matches after fetcher action");let Be=++Ye;Ee.set(i,Be);let it=We(L,U.data);f.fetchers.set(i,it);let[Le,re]=It(e.history,f,ae,L,j,te,X,xe,le,Se,ie,Y,s,{[g.route.id]:U.data},void 0);re.filter(V=>V.key!==i).forEach(V=>{let ye=V.key,Ot=f.fetchers.get(ye),Dr=We(void 0,Ot?Ot.data:void 0);f.fetchers.set(ye,Dr),K.has(ye)&&de(ye),V.controller&&K.set(ye,V.controller)}),G({fetchers:new Map(f.fetchers)});let Qe=()=>re.forEach(V=>de(V.key));x.signal.addEventListener("abort",Qe);let{results:lt,loaderResults:st,fetcherResults:ut}=await St(f.matches,ae,Le,re,z);if(x.signal.aborted)return;x.signal.removeEventListener("abort",Qe),Ee.delete(i),K.delete(i),re.forEach(V=>K.delete(V.key));let Pe=Vt(lt);if(Pe){if(Pe.idx>=Le.length){let V=re[Pe.idx-Le.length].key;ie.add(V)}return _e(f,Pe.result)}let{loaderData:A,errors:Q}=Wt(f,f.matches,Le,st,void 0,re,ut,pe);if(f.fetchers.has(i)){let V=fe(U.data);f.fetchers.set(i,V)}Ct(Be),f.navigation.state==="loading"&&Be>je?(T(_,"Expected pending action"),P&&P.abort(),Ne(f.navigation.location,{matches:ae,loaderData:A,errors:Q,fetchers:new Map(f.fetchers)})):(G({errors:Q,loaderData:$t(f.loaderData,A,ae,Q),fetchers:new Map(f.fetchers)}),te=!1)}async function Rr(i,u,h,g,R,M,L){let S=f.fetchers.get(i);ce(i,We(L,S?S.data:void 0),{flushSync:M});let x=new AbortController,F=ke(e.history,h,x.signal);K.set(i,x);let q=Ye,U=await ze("loader",F,g,R,o,a,s);if(we(U)&&(U=await lr(U,F.signal,!0)||U),K.get(i)===x&&K.delete(i),!F.signal.aborted){if(le.has(i)){ce(i,fe(void 0));return}if(Me(U))if(je>q){ce(i,fe(void 0));return}else{ie.add(i),await _e(f,U);return}if(Ve(U)){Ie(i,u,U.error);return}T(!we(U),"Unhandled fetcher deferred data"),ce(i,fe(U.data))}}async function _e(i,u,h){let{submission:g,fetcherSubmission:R,replace:M}=h===void 0?{}:h;u.revalidate&&(te=!0);let L=He(i.location,u.location,{_isRedirect:!0});if(T(L,"Expected a location on the redirect navigation"),r){let j=!1;if(u.reloadDocument)j=!0;else if(nr.test(u.location)){const z=e.history.createURL(u.location);j=z.origin!==t.location.origin||he(z.pathname,s)==null}if(j){M?t.location.replace(u.location):t.location.assign(u.location);return}}P=null;let S=M===!0?W.Replace:W.Push,{formMethod:x,formAction:F,formEncType:q}=i.navigation;!g&&!R&&x&&F&&q&&(g=Jt(i.navigation));let U=g||R;if(an.has(u.status)&&U&&ne(U.formMethod))await ve(S,L,{submission:k({},U,{formAction:u.location}),preventScrollReset:B});else{let j=ft(L,g);await ve(S,L,{overrideNavigation:j,fetcherSubmission:R,preventScrollReset:B})}}async function St(i,u,h,g,R){let M=await Promise.all([...h.map(x=>ze("loader",R,x,u,o,a,s)),...g.map(x=>x.matches&&x.match&&x.controller?ze("loader",ke(e.history,x.path,x.controller.signal),x.match,x.matches,o,a,s):{type:$.error,error:Z(404,{pathname:x.path})})]),L=M.slice(0,h.length),S=M.slice(h.length);return await Promise.all([Ht(i,h,L,L.map(()=>R.signal),!1,f.loaderData),Ht(i,g.map(x=>x.match),S,g.map(x=>x.controller?x.controller.signal:null),!0)]),{results:M,loaderResults:L,fetcherResults:S}}function at(){te=!0,X.push(...ot()),Se.forEach((i,u)=>{K.has(u)&&(xe.push(u),de(u))})}function ce(i,u,h){h===void 0&&(h={}),f.fetchers.set(i,u),G({fetchers:new Map(f.fetchers)},{flushSync:(h&&h.flushSync)===!0})}function Ie(i,u,h,g){g===void 0&&(g={});let R=Ke(f.matches,u);Ge(i),G({errors:{[R.route.id]:h},fetchers:new Map(f.fetchers)},{flushSync:(g&&g.flushSync)===!0})}function Lt(i){return d.v7_fetcherPersist&&(Ae.set(i,(Ae.get(i)||0)+1),le.has(i)&&le.delete(i)),f.fetchers.get(i)||on}function Ge(i){let u=f.fetchers.get(i);K.has(i)&&!(u&&u.state==="loading"&&Ee.has(i))&&de(i),Se.delete(i),Ee.delete(i),ie.delete(i),le.delete(i),f.fetchers.delete(i)}function xr(i){if(d.v7_fetcherPersist){let u=(Ae.get(i)||0)-1;u<=0?(Ae.delete(i),le.add(i)):Ae.set(i,u)}else Ge(i);G({fetchers:new Map(f.fetchers)})}function de(i){let u=K.get(i);T(u,"Expected fetch controller: "+i),u.abort(),K.delete(i)}function Pt(i){for(let u of i){let h=Lt(u),g=fe(h.data);f.fetchers.set(u,g)}}function Dt(){let i=[],u=!1;for(let h of ie){let g=f.fetchers.get(h);T(g,"Expected fetcher: "+h),g.state==="loading"&&(ie.delete(h),i.push(h),u=!0)}return Pt(i),u}function Ct(i){let u=[];for(let[h,g]of Ee)if(g<i){let R=f.fetchers.get(h);T(R,"Expected fetcher: "+h),R.state==="loading"&&(de(h),Ee.delete(h),u.push(h))}return Pt(u),u.length>0}function Er(i,u){let h=f.blockers.get(i)||De;return ge.get(i)!==u&&ge.set(i,u),h}function Mt(i){f.blockers.delete(i),ge.delete(i)}function Xe(i,u){let h=f.blockers.get(i)||De;T(h.state==="unblocked"&&u.state==="blocked"||h.state==="blocked"&&u.state==="blocked"||h.state==="blocked"&&u.state==="proceeding"||h.state==="blocked"&&u.state==="unblocked"||h.state==="proceeding"&&u.state==="unblocked","Invalid blocker state transition: "+h.state+" -> "+u.state);let g=new Map(f.blockers);g.set(i,u),G({blockers:g})}function Tt(i){let{currentLocation:u,nextLocation:h,historyAction:g}=i;if(ge.size===0)return;ge.size>1&&be(!1,"A router only supports one blocker at a time");let R=Array.from(ge.entries()),[M,L]=R[R.length-1],S=f.blockers.get(M);if(!(S&&S.state==="proceeding")&&L({currentLocation:u,nextLocation:h,historyAction:g}))return M}function ot(i){let u=[];return pe.forEach((h,g)=>{(!i||i(g))&&(h.cancel(),u.push(g),pe.delete(g))}),u}function Sr(i,u,h){if(v=i,y=u,C=h||null,!w&&f.navigation===dt){w=!0;let g=Ft(f.location,f.matches);g!=null&&G({restoreScrollPosition:g})}return()=>{v=null,y=null,C=null}}function Ut(i,u){return C&&C(i,u.map(g=>Qt(g,f.loaderData)))||i.key}function Lr(i,u){if(v&&y){let h=Ut(i,u);v[h]=y()}}function Ft(i,u){if(v){let h=Ut(i,u),g=v[h];if(typeof g=="number")return g}return null}function Pr(i){o={},c=ht(i,a,void 0,o)}return N={get basename(){return s},get state(){return f},get routes(){return l},get window(){return t},initialize:hr,subscribe:pr,enableScrollRestoration:Sr,navigate:Et,fetch:wr,revalidate:gr,createHref:i=>e.history.createHref(i),encodeLocation:i=>e.history.encodeLocation(i),getFetcher:Lt,deleteFetcher:xr,dispose:mr,getBlocker:Er,deleteBlocker:Mt,_internalFetchControllers:K,_internalActiveDeferreds:pe,_internalSetRoutes:Pr},N}function un(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function mt(e,t,r,n,a,o,l){let c,s;if(o){c=[];for(let m of t)if(c.push(m),m.route.id===o){s=m;break}}else c=t,s=t[t.length-1];let d=Ze(a||".",qe(c).map(m=>m.pathnameBase),he(e.pathname,r)||e.pathname,l==="path");return a==null&&(d.search=e.search,d.hash=e.hash),(a==null||a===""||a===".")&&s&&s.route.index&&!wt(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:se([r,d.pathname])),Re(d)}function _t(e,t,r,n){if(!n||!un(n))return{path:r};if(n.formMethod&&!gn(n.formMethod))return{path:r,error:Z(405,{method:n.formMethod})};let a=()=>({path:r,error:Z(400,{type:"invalid-body"})}),o=n.formMethod||"get",l=e?o.toUpperCase():o.toLowerCase(),c=ir(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ne(l))return a();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((C,y)=>{let[w,E]=y;return""+C+w+"="+E+`
`},""):String(n.body);return{path:r,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!ne(l))return a();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return a()}}}T(typeof FormData=="function","FormData is not available in this environment");let s,d;if(n.formData)s=pt(n.formData),d=n.formData;else if(n.body instanceof FormData)s=pt(n.body),d=n.body;else if(n.body instanceof URLSearchParams)s=n.body,d=kt(s);else if(n.body==null)s=new URLSearchParams,d=new FormData;else try{s=new URLSearchParams(n.body),d=kt(s)}catch{return a()}let m={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(ne(m.formMethod))return{path:r,submission:m};let b=ue(r);return t&&b.search&&wt(b.search)&&s.append("index",""),b.search="?"+s,{path:Re(b),submission:m}}function cn(e,t){let r=e;if(t){let n=e.findIndex(a=>a.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function It(e,t,r,n,a,o,l,c,s,d,m,b,v,C,y){let w=y?Object.values(y)[0]:C?Object.values(C)[0]:void 0,E=e.createURL(t.location),D=e.createURL(a),O=y?Object.keys(y)[0]:void 0,f=cn(r,O).filter((B,P)=>{if(B.route.lazy)return!0;if(B.route.loader==null)return!1;if(dn(t.loaderData,t.matches[P],B)||l.some(ee=>ee===B.route.id))return!0;let H=t.matches[P],I=B;return Bt(B,k({currentUrl:E,currentParams:H.params,nextUrl:D,nextParams:I.params},n,{actionResult:w,defaultShouldRevalidate:o||E.pathname+E.search===D.pathname+D.search||E.search!==D.search||or(H,I)}))}),_=[];return d.forEach((B,P)=>{if(!r.some(te=>te.route.id===B.routeId)||s.has(P))return;let H=Ce(b,B.path,v);if(!H){_.push({key:P,routeId:B.routeId,path:B.path,matches:null,match:null,controller:null});return}let I=t.fetchers.get(P),ee=gt(H,B.path),J=!1;m.has(P)?J=!1:c.includes(P)?J=!0:I&&I.state!=="idle"&&I.data===void 0?J=o:J=Bt(ee,k({currentUrl:E,currentParams:t.matches[t.matches.length-1].params,nextUrl:D,nextParams:r[r.length-1].params},n,{actionResult:w,defaultShouldRevalidate:o})),J&&_.push({key:P,routeId:B.routeId,path:B.path,matches:H,match:ee,controller:new AbortController})}),[f,_]}function dn(e,t,r){let n=!t||r.route.id!==t.route.id,a=e[r.route.id]===void 0;return n||a}function or(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Bt(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function zt(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let a=r[e.id];T(a,"No route found in manifest");let o={};for(let l in n){let s=a[l]!==void 0&&l!=="hasErrorBoundary";be(!s,'Route "'+a.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!s&&!Or.has(l)&&(o[l]=n[l])}Object.assign(a,o),Object.assign(a,k({},t(a),{lazy:void 0}))}async function ze(e,t,r,n,a,o,l,c){c===void 0&&(c={});let s,d,m,b=y=>{let w,E=new Promise((D,O)=>w=O);return m=()=>w(),t.signal.addEventListener("abort",m),Promise.race([y({request:t,params:r.params,context:c.requestContext}),E])};try{let y=r.route[e];if(r.route.lazy)if(y){let w,E=await Promise.all([b(y).catch(D=>{w=D}),zt(r.route,o,a)]);if(w)throw w;d=E[0]}else if(await zt(r.route,o,a),y=r.route[e],y)d=await b(y);else if(e==="action"){let w=new URL(t.url),E=w.pathname+w.search;throw Z(405,{method:t.method,pathname:E,routeId:r.route.id})}else return{type:$.data,data:void 0};else if(y)d=await b(y);else{let w=new URL(t.url),E=w.pathname+w.search;throw Z(404,{pathname:E})}T(d!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){s=$.error,d=y}finally{m&&t.signal.removeEventListener("abort",m)}if(pn(d)){let y=d.status;if(nn.has(y)){let D=d.headers.get("Location");if(T(D,"Redirects returned/thrown from loaders/actions must have a Location header"),!nr.test(D))D=mt(new URL(t.url),n.slice(0,n.indexOf(r)+1),l,!0,D);else if(!c.isStaticRequest){let O=new URL(t.url),N=D.startsWith("//")?new URL(O.protocol+D):new URL(D),f=he(N.pathname,l)!=null;N.origin===O.origin&&f&&(D=N.pathname+N.search+N.hash)}if(c.isStaticRequest)throw d.headers.set("Location",D),d;return{type:$.redirect,status:y,location:D,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(c.isRouteRequest)throw{type:s===$.error?$.error:$.data,response:d};let w,E=d.headers.get("Content-Type");return E&&/\bapplication\/json\b/.test(E)?w=await d.json():w=await d.text(),s===$.error?{type:s,error:new yt(y,d.statusText,w),headers:d.headers}:{type:$.data,data:w,statusCode:d.status,headers:d.headers}}if(s===$.error)return{type:s,error:d};if(mn(d)){var v,C;return{type:$.deferred,deferredData:d,statusCode:(v=d.init)==null?void 0:v.status,headers:((C=d.init)==null?void 0:C.headers)&&new Headers(d.init.headers)}}return{type:$.data,data:d}}function ke(e,t,r,n){let a=e.createURL(ir(t)).toString(),o={signal:r};if(n&&ne(n.formMethod)){let{formMethod:l,formEncType:c}=n;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(n.json)):c==="text/plain"?o.body=n.text:c==="application/x-www-form-urlencoded"&&n.formData?o.body=pt(n.formData):o.body=n.formData}return new Request(a,o)}function pt(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function kt(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function fn(e,t,r,n,a){let o={},l=null,c,s=!1,d={};return r.forEach((m,b)=>{let v=t[b].route.id;if(T(!Me(m),"Cannot handle redirect results in processLoaderData"),Ve(m)){let C=Ke(e,v),y=m.error;n&&(y=Object.values(n)[0],n=void 0),l=l||{},l[C.route.id]==null&&(l[C.route.id]=y),o[v]=void 0,s||(s=!0,c=tr(m.error)?m.error.status:500),m.headers&&(d[v]=m.headers)}else we(m)?(a.set(v,m.deferredData),o[v]=m.deferredData.data):o[v]=m.data,m.statusCode!=null&&m.statusCode!==200&&!s&&(c=m.statusCode),m.headers&&(d[v]=m.headers)}),n&&(l=n,o[Object.keys(n)[0]]=void 0),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:d}}function Wt(e,t,r,n,a,o,l,c){let{loaderData:s,errors:d}=fn(t,r,n,a,c);for(let m=0;m<o.length;m++){let{key:b,match:v,controller:C}=o[m];T(l!==void 0&&l[m]!==void 0,"Did not find corresponding fetcher result");let y=l[m];if(!(C&&C.signal.aborted))if(Ve(y)){let w=Ke(e.matches,v==null?void 0:v.route.id);d&&d[w.route.id]||(d=k({},d,{[w.route.id]:y.error})),e.fetchers.delete(b)}else if(Me(y))T(!1,"Unhandled fetcher revalidation redirect");else if(we(y))T(!1,"Unhandled fetcher deferred data");else{let w=fe(y.data);e.fetchers.set(b,w)}}return{loaderData:s,errors:d}}function $t(e,t,r,n){let a=k({},t);for(let o of r){let l=o.route.id;if(t.hasOwnProperty(l)?t[l]!==void 0&&(a[l]=t[l]):e[l]!==void 0&&o.route.loader&&(a[l]=e[l]),n&&n.hasOwnProperty(l))break}return a}function Ke(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Kt(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Z(e,t){let{pathname:r,routeId:n,method:a,type:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",a&&r&&n?c="You made a "+a+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?c="defer() is not supported in actions":o==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):e===404?(l="Not Found",c='No route matches URL "'+r+'"'):e===405&&(l="Method Not Allowed",a&&r&&n?c="You made a "+a.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":a&&(c='Invalid request method "'+a.toUpperCase()+'"')),new yt(e||500,l,new Error(c),!0)}function Vt(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(Me(r))return{result:r,idx:t}}}function ir(e){let t=typeof e=="string"?ue(e):e;return Re(k({},t,{hash:""}))}function hn(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function we(e){return e.type===$.deferred}function Ve(e){return e.type===$.error}function Me(e){return(e&&e.type)===$.redirect}function mn(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function pn(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function gn(e){return rn.has(e.toLowerCase())}function ne(e){return en.has(e.toLowerCase())}async function Ht(e,t,r,n,a,o){for(let l=0;l<r.length;l++){let c=r[l],s=t[l];if(!s)continue;let d=e.find(b=>b.route.id===s.route.id),m=d!=null&&!or(d,s)&&(o&&o[s.route.id])!==void 0;if(we(c)&&(a||m)){let b=n[l];T(b,"Expected an AbortSignal for revalidating fetcher deferred result"),await lr(c,b,a).then(v=>{v&&(r[l]=v||r[l])})}}}async function lr(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:$.data,data:e.deferredData.unwrappedData}}catch(a){return{type:$.error,error:a}}return{type:$.data,data:e.deferredData.data}}}function wt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function gt(e,t){let r=typeof t=="string"?ue(t).search:t.search;if(e[e.length-1].route.index&&wt(r||""))return e[e.length-1];let n=qe(e);return n[n.length-1]}function Jt(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:o,json:l}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:l,text:void 0}}}function ft(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function vn(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function We(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function yn(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function fe(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function wn(e,t){try{let r=e.sessionStorage.getItem(ar);if(r){let n=JSON.parse(r);for(let[a,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch{}}function bn(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(ar,JSON.stringify(r))}catch(n){be(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Te.apply(this,arguments)}const et=p.createContext(null),sr=p.createContext(null),Ue=p.createContext(null),tt=p.createContext(null),oe=p.createContext({outlet:null,matches:[],isDataRoute:!1}),ur=p.createContext(null);function Rn(e,t){let{relative:r}=t===void 0?{}:t;Fe()||T(!1);let{basename:n,navigator:a}=p.useContext(Ue),{hash:o,pathname:l,search:c}=dr(e,{relative:r}),s=l;return n!=="/"&&(s=l==="/"?n:se([n,l])),a.createHref({pathname:s,search:c,hash:o})}function Fe(){return p.useContext(tt)!=null}function Oe(){return Fe()||T(!1),p.useContext(tt).location}function cr(e){p.useContext(Ue).static||p.useLayoutEffect(e)}function bt(){let{isDataRoute:e}=p.useContext(oe);return e?jn():xn()}function xn(){Fe()||T(!1);let e=p.useContext(et),{basename:t,navigator:r}=p.useContext(Ue),{matches:n}=p.useContext(oe),{pathname:a}=Oe(),o=JSON.stringify(qe(n).map(s=>s.pathnameBase)),l=p.useRef(!1);return cr(()=>{l.current=!0}),p.useCallback(function(s,d){if(d===void 0&&(d={}),!l.current)return;if(typeof s=="number"){r.go(s);return}let m=Ze(s,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:se([t,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[t,r,o,a,e])}const En=p.createContext(null);function Sn(e){let t=p.useContext(oe).outlet;return t&&p.createElement(En.Provider,{value:e},t)}function na(){let{matches:e}=p.useContext(oe),t=e[e.length-1];return t?t.params:{}}function dr(e,t){let{relative:r}=t===void 0?{}:t,{matches:n}=p.useContext(oe),{pathname:a}=Oe(),o=JSON.stringify(qe(n).map(l=>l.pathnameBase));return p.useMemo(()=>Ze(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Ln(e,t,r){Fe()||T(!1);let{navigator:n}=p.useContext(Ue),{matches:a}=p.useContext(oe),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let s=Oe(),d;if(t){var m;let w=typeof t=="string"?ue(t):t;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||T(!1),d=w}else d=s;let b=d.pathname||"/",v=c==="/"?b:b.slice(c.length)||"/",C=Ce(e,{pathname:v}),y=Tn(C&&C.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:se([c,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:se([c,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r);return t&&y?p.createElement(tt.Provider,{value:{location:Te({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:W.Pop}},y):y}function Pn(){let e=Fn(),t=tr(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const Dn=p.createElement(Pn,null);class Cn extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?p.createElement(oe.Provider,{value:this.props.routeContext},p.createElement(ur.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mn(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(et);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(oe.Provider,{value:t},n)}function Tn(e,t,r){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),e==null){var a;if((a=r)!=null&&a.errors)e=r.matches;else return null}let o=e,l=(n=r)==null?void 0:n.errors;if(l!=null){let c=o.findIndex(s=>s.route.id&&(l==null?void 0:l[s.route.id]));c>=0||T(!1),o=o.slice(0,Math.min(o.length,c+1))}return o.reduceRight((c,s,d)=>{let m=s.route.id?l==null?void 0:l[s.route.id]:null,b=null;r&&(b=s.route.errorElement||Dn);let v=t.concat(o.slice(0,d+1)),C=()=>{let y;return m?y=b:s.route.Component?y=p.createElement(s.route.Component,null):s.route.element?y=s.route.element:y=c,p.createElement(Mn,{match:s,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:y})};return r&&(s.route.ErrorBoundary||s.route.errorElement||d===0)?p.createElement(Cn,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:C(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):C()},null)}var Rt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rt||{}),me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(me||{});function fr(e){let t=p.useContext(et);return t||T(!1),t}function rt(e){let t=p.useContext(sr);return t||T(!1),t}function Un(e){let t=p.useContext(oe);return t||T(!1),t}function xt(e){let t=Un(),r=t.matches[t.matches.length-1];return r.route.id||T(!1),r.route.id}function aa(){let{matches:e,loaderData:t}=rt(me.UseMatches);return p.useMemo(()=>e.map(r=>Qt(r,t)),[e,t])}function oa(){let e=rt(me.UseLoaderData),t=xt(me.UseLoaderData);if(e.errors&&e.errors[t]!=null){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+t+")");return}return e.loaderData[t]}function Fn(){var e;let t=p.useContext(ur),r=rt(me.UseRouteError),n=xt(me.UseRouteError);return t||((e=r.errors)==null?void 0:e[n])}let On=0;function ia(e){let{router:t,basename:r}=fr(Rt.UseBlocker),n=rt(me.UseBlocker),[a,o]=p.useState(""),l=p.useCallback(c=>{if(typeof e!="function")return!!e;if(r==="/")return e(c);let{currentLocation:s,nextLocation:d,historyAction:m}=c;return e({currentLocation:Te({},s,{pathname:he(s.pathname,r)||s.pathname}),nextLocation:Te({},d,{pathname:he(d.pathname,r)||d.pathname}),historyAction:m})},[r,e]);return p.useEffect(()=>{let c=String(++On);return o(c),()=>t.deleteBlocker(c)},[t]),p.useEffect(()=>{a!==""&&t.getBlocker(a,l)},[t,a,l]),a&&n.blockers.has(a)?n.blockers.get(a):De}function jn(){let{router:e}=fr(Rt.UseNavigateStable),t=xt(me.UseNavigateStable),r=p.useRef(!1);return cr(()=>{r.current=!0}),p.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Te({fromRouteId:t},o)))},[e,t])}function la(e){let{to:t,replace:r,state:n,relative:a}=e;Fe()||T(!1);let{matches:o}=p.useContext(oe),{pathname:l}=Oe(),c=bt(),s=Ze(t,qe(o).map(m=>m.pathnameBase),l,a==="path"),d=JSON.stringify(s);return p.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:a}),[c,d,a,r,n]),null}function sa(e){return Sn(e.context)}function An(e){let{basename:t="/",children:r=null,location:n,navigationType:a=W.Pop,navigator:o,static:l=!1}=e;Fe()&&T(!1);let c=t.replace(/^\/*/,"/"),s=p.useMemo(()=>({basename:c,navigator:o,static:l}),[c,o,l]);typeof n=="string"&&(n=ue(n));let{pathname:d="/",search:m="",hash:b="",state:v=null,key:C="default"}=n,y=p.useMemo(()=>{let w=he(d,c);return w==null?null:{location:{pathname:w,search:m,hash:b,state:v,key:C},navigationType:a}},[c,d,m,b,v,C,a]);return y==null?null:p.createElement(Ue.Provider,{value:s},p.createElement(tt.Provider,{children:r,value:y}))}new Promise(()=>{});function Nn(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:p.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:p.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Je.apply(this,arguments)}function _n(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function In(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Bn(e,t){return e.button===0&&(!t||t==="_self")&&!In(e)}function vt(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function zn(e,t){let r=vt(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}const kn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function ua(e,t){return sn({basename:t==null?void 0:t.basename,future:Je({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Tr({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Wn(),routes:e,mapRouteProperties:Nn,window:t==null?void 0:t.window}).initialize()}function Wn(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Je({},t,{errors:$n(t.errors)})),t}function $n(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new yt(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let l=new o(a.message);l.stack="",r[n]=l}catch{}}if(r[n]==null){let o=new Error(a.message);o.stack="",r[n]=o}}else r[n]=a;return r}const Kn=p.createContext({isTransitioning:!1}),Vn=p.createContext(new Map),Hn="startTransition",qt=Cr[Hn],Jn="flushSync",Yt=Mr[Jn];function qn(e){qt?qt(e):e()}function $e(e){Yt?Yt(e):e()}class Yn{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function ca(e){let{fallbackElement:t,router:r,future:n}=e,[a,o]=p.useState(r.state),[l,c]=p.useState(),[s,d]=p.useState({isTransitioning:!1}),[m,b]=p.useState(),[v,C]=p.useState(),[y,w]=p.useState(),E=p.useRef(new Map),{v7_startTransition:D}=n||{},O=p.useCallback(P=>{D?qn(P):P()},[D]),N=p.useCallback((P,H)=>{let{deletedFetchers:I,unstable_flushSync:ee,unstable_viewTransitionOpts:J}=H;I.forEach(X=>E.current.delete(X)),P.fetchers.forEach((X,xe)=>{X.data!==void 0&&E.current.set(xe,X.data)});let te=r.window==null||typeof r.window.document.startViewTransition!="function";if(!J||te){ee?$e(()=>o(P)):O(()=>o(P));return}if(ee){$e(()=>{v&&(m&&m.resolve(),v.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:J.currentLocation,nextLocation:J.nextLocation})});let X=r.window.document.startViewTransition(()=>{$e(()=>o(P))});X.finished.finally(()=>{$e(()=>{b(void 0),C(void 0),c(void 0),d({isTransitioning:!1})})}),$e(()=>C(X));return}v?(m&&m.resolve(),v.skipTransition(),w({state:P,currentLocation:J.currentLocation,nextLocation:J.nextLocation})):(c(P),d({isTransitioning:!0,flushSync:!1,currentLocation:J.currentLocation,nextLocation:J.nextLocation}))},[r.window,v,m,E,O]);p.useLayoutEffect(()=>r.subscribe(N),[r,N]),p.useEffect(()=>{s.isTransitioning&&!s.flushSync&&b(new Yn)},[s]),p.useEffect(()=>{if(m&&l&&r.window){let P=l,H=m.promise,I=r.window.document.startViewTransition(async()=>{O(()=>o(P)),await H});I.finished.finally(()=>{b(void 0),C(void 0),c(void 0),d({isTransitioning:!1})}),C(I)}},[O,l,m,r.window]),p.useEffect(()=>{m&&l&&a.location.key===l.location.key&&m.resolve()},[m,v,a.location,l]),p.useEffect(()=>{!s.isTransitioning&&y&&(c(y.state),d({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),w(void 0))},[s.isTransitioning,y]);let f=p.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:P=>r.navigate(P),push:(P,H,I)=>r.navigate(P,{state:H,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(P,H,I)=>r.navigate(P,{replace:!0,state:H,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[r]),_=r.basename||"/",B=p.useMemo(()=>({router:r,navigator:f,static:!1,basename:_}),[r,f,_]);return p.createElement(p.Fragment,null,p.createElement(et.Provider,{value:B},p.createElement(sr.Provider,{value:a},p.createElement(Vn.Provider,{value:E.current},p.createElement(Kn.Provider,{value:s},p.createElement(An,{basename:_,location:a.location,navigationType:a.historyAction,navigator:f},a.initialized?p.createElement(Gn,{routes:r.routes,state:a}):t))))),null)}function Gn(e){let{routes:t,state:r}=e;return Ln(t,void 0,r)}const Xn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,da=p.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:l,state:c,target:s,to:d,preventScrollReset:m,unstable_viewTransition:b}=t,v=_n(t,kn),{basename:C}=p.useContext(Ue),y,w=!1;if(typeof d=="string"&&Qn.test(d)&&(y=d,Xn))try{let N=new URL(window.location.href),f=d.startsWith("//")?new URL(N.protocol+d):new URL(d),_=he(f.pathname,C);f.origin===N.origin&&_!=null?d=_+f.search+f.hash:w=!0}catch{}let E=Rn(d,{relative:a}),D=Zn(d,{replace:l,state:c,target:s,preventScrollReset:m,relative:a,unstable_viewTransition:b});function O(N){n&&n(N),N.defaultPrevented||D(N)}return p.createElement("a",Je({},v,{href:y||E,onClick:w||o?n:O,ref:r,target:s}))});var Gt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gt||(Gt={}));var Xt;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xt||(Xt={}));function Zn(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:l,unstable_viewTransition:c}=t===void 0?{}:t,s=bt(),d=Oe(),m=dr(e,{relative:l});return p.useCallback(b=>{if(Bn(b,r)){b.preventDefault();let v=n!==void 0?n:Re(d)===Re(m);s(e,{replace:v,state:a,preventScrollReset:o,relative:l,unstable_viewTransition:c})}},[d,s,m,n,a,r,e,o,l,c])}function fa(e){let t=p.useRef(vt(e)),r=p.useRef(!1),n=Oe(),a=p.useMemo(()=>zn(n.search,r.current?null:t.current),[n.search]),o=bt(),l=p.useCallback((c,s)=>{const d=vt(typeof c=="function"?c(a):c);r.current=!0,o("?"+d,s)},[o,a]);return[a,l]}export{da as L,la as N,sa as O,ca as R,bt as a,fa as b,na as c,oa as d,ia as e,Fn as f,aa as g,ua as h,ra as j,Oe as u};
