import{u as x,v as d,j as e,T as f}from"./index-S--WvUSo.js";import{t as p}from"./zod-jt04JUtm.js";import{r as h}from"./react-PzSkSLoa.js";import{u as j,F as r}from"./form-0PHaH8g8.js";import{b,L as g}from"./react-router-dom-aSYyayiN.js";import{o as v,s as y}from"./index-JzuMwgWW.js";import{L as w}from"./logo-box-TfH3D5h8.js";import{m as N}from"./motion-jlFaYIfJ.js";import{A as l}from"./alert-dyv3SYtc.js";import{T as S}from"./Trans-9IhttDMi.js";import{H as P}from"./heading-cSlef4Su.js";import{I as T}from"./input-A29ux7yj.js";import{B as E}from"./button-Pc5Xo8ua.js";import"./react-dom-Og6--24v.js";import"./information-circle-solid-rXH6vJ5W.js";import"./label-HFq5fzpT.js";import"./tooltip-Ixyw9oT8.js";import"./x-mark-mini-aYDSd38M.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";const L=v({email:y().email()}),W=()=>{const{t:s}=x(),[a,i]=h.useState(!1),[m]=b(),n=m.get("email")||"",t=j({resolver:p(L),defaultValues:{email:n}}),{mutateAsync:c}=d({retry:!1}),u=t.handleSubmit(async({email:o})=>{await c({email:o},{onSuccess:()=>{i(!0)},onError:R=>{i(!1),t.setError("root",{type:"manual",message:s("errors.serverError")})}})});return e.jsx("div",{className:"min-h-dvh w-dvw bg-ui-bg-base flex items-center justify-center",children:e.jsxs("div",{className:"m-4 flex w-full max-w-[300px] flex-col items-center",children:[e.jsx(w,{className:"mb-4",checked:a}),e.jsxs("div",{className:"mb-4 flex flex-col items-center",children:[e.jsx(P,{children:s("resetPassword.title")}),e.jsx(f,{size:"small",className:"text-ui-fg-subtle text-pretty text-center",children:s("resetPassword.hint")})]}),e.jsx(r,{...t,children:e.jsxs("form",{onSubmit:u,className:"flex w-full flex-col gap-y-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(r.Field,{control:t.control,name:"email",render:({field:o})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:s("fields.email")}),e.jsx(r.Control,{children:e.jsx(T,{autoComplete:"email",...o})}),e.jsx(r.ErrorMessage,{})]})}),a&&e.jsx(N.div,{initial:{opacity:0,height:0,y:20},animate:{opacity:1,height:"auto",y:0},transition:{duration:.5,delay:.2,ease:[0,.71,.2,1.01]},layout:!0,children:e.jsx(l,{variant:"success",dismissible:!0,className:"mt-4",children:s("resetPassword.successfulRequest")})}),t.formState.errors.root&&e.jsx(l,{variant:"error",dismissible:!0,className:"mt-4",children:t.formState.errors.root.message})]}),e.jsx(E,{className:"w-full",type:"submit",children:s("resetPassword.sendResetInstructions")})]})}),e.jsx("div",{className:"my-6 h-px w-full border-b border-dotted"}),e.jsx("span",{className:"text-ui-fg-subtle txt-small",children:e.jsx(S,{i18nKey:"resetPassword.backToLogin",components:[e.jsx(g,{to:"/login",className:"text-ui-fg-interactive transition-fg hover:text-ui-fg-interactive-hover focus-visible:text-ui-fg-interactive-hover outline-none"},"login-link")]})})]})})};export{W as Component};
