import{u as j,j as e,T as u}from"./index-S--WvUSo.js";import{u as g,R as r}from"./route-focus-modal-MMx5Xnk0.js";import{u as _,F as a}from"./form-0PHaH8g8.js";import{o as v,s as y}from"./index-JzuMwgWW.js";import{e as S,a as b}from"./stock-locations-5f5MPAbM.js";import{t as x}from"./toast-4oQfF9Sm.js";import{I as z}from"./input-A29ux7yj.js";import{A as w}from"./alert-dyv3SYtc.js";import{B as h}from"./button-Pc5Xo8ua.js";import{c as F,j as I}from"./react-router-dom-aSYyayiN.js";import{H as E}from"./heading-cSlef4Su.js";import"./react-PzSkSLoa.js";import"./react-dom-Og6--24v.js";import"./drawer-H3TI1lDZ.js";import"./index-sF0hA49A.js";import"./prompt-LzbVPZYR.js";import"./information-circle-solid-rXH6vJ5W.js";import"./label-HFq5fzpT.js";import"./tooltip-Ixyw9oT8.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";import"./x-mark-mini-aYDSd38M.js";v({name:y().min(1)});const Z=({zone:c,fulfillmentSetId:m,locationId:d})=>{const{t:s}=j(),{handleSuccess:t}=g(),i=_({defaultValues:{name:c.name}}),{mutateAsync:p,isPending:f}=S(m,c.id),n=i.handleSubmit(async o=>{await p({name:o.name},{onSuccess:()=>{x.success(s("general.success"),{dismissLabel:s("actions.close")}),t()},onError:l=>{x.error(s("general.error"),{description:l.message,dismissLabel:s("actions.close")})}})});return e.jsx(r.Form,{form:i,children:e.jsxs("form",{onSubmit:n,className:"flex flex-1 flex-col",children:[e.jsx(r.Body,{children:e.jsxs("div",{className:"flex flex-col gap-y-8",children:[e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsx(a.Field,{control:i.control,name:"name",render:({field:o})=>e.jsxs(a.Item,{children:[e.jsx(a.Label,{children:s("fields.name")}),e.jsx(a.Control,{children:e.jsx(z,{...o})}),e.jsx(a.ErrorMessage,{})]})})}),e.jsxs(w,{children:[e.jsx(u,{weight:"plus",children:s("shipping.serviceZone.create.subtitle")}),e.jsx(u,{className:"text-ui-fg-subtle mt-2",children:s("shipping.serviceZone.create.description")})]})]})}),e.jsx(r.Footer,{children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(r.Close,{asChild:!0,children:e.jsx(h,{size:"small",variant:"secondary",children:s("actions.cancel")})}),e.jsx(h,{size:"small",type:"submit",isLoading:f,children:s("actions.save")})]})})]})})},X=()=>{var o;const{t:c}=j(),{location_id:m,fset_id:d,zone_id:s}=F(),{stock_location:t,isPending:i,isError:p,error:f}=b(m,{fields:"name,address.city,address.country_code,fulfillment_sets.type,fulfillment_sets.name,*fulfillment_sets.service_zones.geo_zones,*fulfillment_sets.service_zones,*fulfillment_sets.service_zones.shipping_options,*fulfillment_sets.service_zones.shipping_options.shipping_profile"}),n=(o=t==null?void 0:t.fulfillment_sets.find(l=>l.id===d))==null?void 0:o.service_zones.find(l=>l.id===s);if(p)throw f;if(!i&&!n)throw I({message:`Service zone with ID ${s} was not found`},404);return e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(E,{children:c("shipping.serviceZone.edit.title")})}),!i&&n&&e.jsx(Z,{zone:n,fulfillmentSetId:d,locationId:m})]})};export{X as Component};
