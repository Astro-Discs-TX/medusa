import{r as s}from"./react-PzSkSLoa.js";import{g as f,d as o,ak as d}from"./index-S--WvUSo.js";import{I as g,E as b}from"./information-circle-solid-rXH6vJ5W.js";import{X as x}from"./x-circle-solid-rnqhxvfk.js";import{C as E}from"./check-circle-solid-7j4QonPK.js";const y=({id:i,variant:e="info",title:t,description:r,action:c,onDismiss:l,dismissLabel:m="Close"})=>{const u=!!c||l;let n;switch(e){case"success":n=s.createElement(E,{className:"text-ui-tag-green-icon"});break;case"warning":n=s.createElement(b,{className:"text-ui-tag-orange-icon"});break;case"error":n=s.createElement(x,{className:"text-ui-tag-red-icon"});break;case"loading":n=s.createElement(f,{className:"text-ui-tag-blue-icon animate-spin"});break;case"info":n=s.createElement(g,{className:"text-ui-fg-base"});break}return s.createElement("div",{className:"shadow-elevation-flyout bg-ui-bg-base flex w-fit min-w-[360px] max-w-[440px] overflow-hidden rounded-lg"},s.createElement("div",{className:o("grid flex-1 items-start gap-3 py-3 pl-3",{"border-r pr-3":u,"pr-6":!u,"grid-cols-[20px_1fr]":!!n,"grid-cols-1":!n})},!!n&&s.createElement("span",{className:"flex size-5 items-center justify-center","aria-hidden":!0},n),s.createElement("div",{className:"flex flex-col"},s.createElement("span",{className:"txt-compact-small-plus text-ui-fg-base"},t),s.createElement("span",{className:"txt-small text-ui-fg-subtle text-pretty"},r))),u&&s.createElement("div",{className:o("grid grid-cols-1",{"grid-rows-2":!!c&&l,"grid-rows-1":!c||!l})},!!c&&s.createElement("button",{type:"button",className:o("txt-compact-small-plus text-ui-fg-base bg-ui-bg-base hover:bg-ui-bg-base-hover active:bg-ui-bg-base-pressed flex items-center justify-center px-4 transition-colors",{"border-ui-border-base border-b":l,"text-ui-fg-error":c.variant==="destructive"}),onClick:c.onClick},c.label),l&&s.createElement("button",{type:"button",onClick:()=>l(i),className:o("txt-compact-small-plus text-ui-fg-subtle bg-ui-bg-base hover:bg-ui-bg-base-hover active:bg-ui-bg-base-pressed flex items-center justify-center px-4 transition-colors")},m)))};function a(i,e,t={}){return d.custom(r=>s.createElement(y,{id:t.id||r,title:e,description:t.description,onDismiss:t.dismissable?()=>d.dismiss(t.id||r):void 0,dismissLabel:t.dismissLabel,variant:i,action:t.action}),{id:t.id,position:t.position,dismissible:t.dismissable})}function v(i,e={}){return a("message",i,e)}function h(i,e={}){return a("info",i,e)}function N(i,e={}){return a("error",i,e)}function w(i,e={}){return a("success",i,e)}function k(i,e={}){return a("warning",i,e)}function C(i,e={}){return a("loading",i,{...e,dismissable:!1})}function S(){return Math.random().toString(36).slice(2,8)}async function j(i,e){let t=e.id||S(),r=t!==void 0;return t=a("loading",typeof e.loading=="string"?e.loading:e.loading.title,{id:t,position:e.position,description:typeof e.loading=="string"?void 0:e.loading.description,duration:1/0}),(i instanceof Promise?i:i()).then(()=>{r=!1,a("success",typeof e.success=="string"?e.success:e.success.title,{id:t,position:e.position,description:typeof e.success=="string"?void 0:e.success.description})}).catch(()=>{r=!1,a("error",typeof e.error=="string"?e.error:e.error.title,{id:t,position:e.position,description:typeof e.error=="string"?void 0:e.error.description})}).finally(()=>{r&&(d.dismiss(t),t=void 0)}),t}const q=Object.assign(v,{info:h,error:N,warning:k,success:w,promise:j,loading:C,dismiss:d.dismiss});export{q as t};
