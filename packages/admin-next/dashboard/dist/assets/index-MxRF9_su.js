import{u as l,j as o,a1 as g}from"./index-S--WvUSo.js";import{r as j}from"./react-PzSkSLoa.js";import{L as b,O as C}from"./react-router-dom-aSYyayiN.js";import{A as G}from"./action-menu-olZwXQ3q.js";import{a as T,D as h}from"./use-data-table-TeZp00wg.js";import{u as y,a as v}from"./customer-groups-G4KCvF3b.js";import{u as w,a as L}from"./use-customer-group-table-columns-uQ7G548z.js";import{u as E}from"./use-customer-group-table-filters-_AvOD74H.js";import{P}from"./pencil-square-u3fizEAQ.js";import{T as S}from"./trash-nTjeUaCp.js";import{t as u}from"./toast-4oQfF9Sm.js";import{u as A}from"./use-prompt-wB0F2CxI.js";import{H as D}from"./heading-cSlef4Su.js";import{B as z}from"./button-Pc5Xo8ua.js";import{c as H}from"./index-JDlOzmVl.js";import"./react-dom-Og6--24v.js";import"./empty-table-content-i72rBIA2.js";import"./plus-mini-IRJECoWI.js";import"./index-1Zwdg31z.js";import"./use-date-Putn0_Ur.js";import"./format-vrL-wy9v.js";import"./date-picker-s8-9mila.js";import"./input-A29ux7yj.js";import"./minus-E5-czcFC.js";import"./x-mark-mini-aYDSd38M.js";import"./index-7dV3TD85.js";import"./index-Hm2Uj9Gg.js";import"./lodash-5s15_I2H.js";import"./label-HFq5fzpT.js";import"./command-bar-wUgfUfvQ.js";import"./customers--tqEK1Bz.js";import"./text-cell-OtkuJsO8.js";import"./placeholder-cell-O6UVTGmQ.js";import"./information-circle-solid-rXH6vJ5W.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";import"./prompt-LzbVPZYR.js";import"./index-sF0hA49A.js";const n=20,_=()=>{const{t:s}=l(),{searchParams:e,raw:r}=w({pageSize:n}),{customer_groups:i,count:t,isLoading:c,isError:a,error:d}=y({...e,fields:"id,name,customers.id"}),f=E(),p=O(),{table:x}=T({data:i??[],columns:p,enablePagination:!0,count:t,getRowId:m=>m.id,pageSize:n});if(a)throw d;return o.jsxs(g,{className:"divide-y p-0",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[o.jsx(D,{level:"h2",children:s("customerGroups.domain")}),o.jsx(b,{to:"/customer-groups/create",children:o.jsx(z,{size:"small",variant:"secondary",children:s("actions.create")})})]}),o.jsx(h,{table:x,columns:p,pageSize:n,count:t,filters:f,search:!0,pagination:!0,navigateTo:m=>`/customer-groups/${m.original.id}`,orderBy:["name","created_at","updated_at"],queryObject:r,isLoading:c})]})},B=({group:s})=>{const{t:e}=l(),r=A(),{mutateAsync:i}=v(s.id),t=async()=>{await r({title:e("customerGroups.delete.title"),description:e("customerGroups.delete.description",{name:s.name}),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await i(void 0,{onSuccess:()=>{u.success(e("general.success"),{description:e("customerGroups.delete.successToast",{name:s.name}),dismissLabel:e("actions.close")})},onError:a=>{u.error(e("general.error"),{description:a.message,dismissLabel:e("actions.close")})}})};return o.jsx(G,{groups:[{actions:[{label:e("actions.edit"),to:`/customer-groups/${s.id}/edit`,icon:o.jsx(P,{})}]},{actions:[{label:e("actions.delete"),onClick:t,icon:o.jsx(S,{})}]}]})},N=H(),O=()=>{const s=L();return j.useMemo(()=>[...s,N.display({id:"actions",cell:({row:e})=>o.jsx(B,{group:e.original})})],[s])},he=()=>o.jsxs("div",{className:"flex flex-col gap-y-2",children:[o.jsx(_,{}),o.jsx(C,{})]});export{he as Component};
