import{u,j as r,a1 as x,ap as w}from"./index-S--WvUSo.js";import{u as h,a as g,D as E}from"./use-data-table-TeZp00wg.js";import{g as b,a as j,T as S,u as k}from"./utils-s4-NdS62.js";import{r as T}from"./react-PzSkSLoa.js";import{S as P}from"./status-cell-9XExsAIG.js";import{B as v}from"./badge-99FyByJO.js";import{c as y}from"./index-JDlOzmVl.js";import{H as C}from"./heading-cSlef4Su.js";import"./react-dom-Og6--24v.js";import"./react-router-dom-aSYyayiN.js";import"./empty-table-content-i72rBIA2.js";import"./plus-mini-IRJECoWI.js";import"./button-Pc5Xo8ua.js";import"./index-1Zwdg31z.js";import"./use-date-Putn0_Ur.js";import"./format-vrL-wy9v.js";import"./date-picker-s8-9mila.js";import"./input-A29ux7yj.js";import"./minus-E5-czcFC.js";import"./x-mark-mini-aYDSd38M.js";import"./index-7dV3TD85.js";import"./index-Hm2Uj9Gg.js";import"./lodash-5s15_I2H.js";import"./label-HFq5fzpT.js";import"./command-bar-wUgfUfvQ.js";const l=y(),D=()=>{const{t:e}=u();return T.useMemo(()=>[l.accessor("transaction_id",{header:e("workflowExecutions.transactionIdLabel"),cell:({getValue:o})=>r.jsx(v,{size:"2xsmall",children:o()})}),l.accessor("state",{header:e("fields.state"),cell:({getValue:o})=>{const t=o(),s=b(t),a=j(e,t);return r.jsx(P,{color:s,children:r.jsx("span",{className:"capitalize",children:a})})}}),l.accessor("execution",{header:e("workflowExecutions.progressLabel"),cell:({getValue:o})=>{var i;const t=(i=o())==null?void 0:i.steps;if(!t)return"0 of 0 steps";const s=Object.values(t).filter(n=>n.id!==L),a=s.filter(n=>n.invoke.state===S.DONE);return e("workflowExecutions.stepsCompletedLabel",{completed:a.length,count:s.length})}})],[e])},L="_root",z=({pageSize:e=20,prefix:o})=>{const t=h(["q","offset"],o),{offset:s,...a}=t;return{searchParams:{limit:e,offset:s?parseInt(s):0,...a},raw:t}},p=20,I=()=>{const{t:e}=u(),{searchParams:o,raw:t}=z({pageSize:p}),{workflow_executions:s,count:a,isLoading:i,isError:n,error:f}=k({...o,fields:"execution,state"},{placeholderData:w}),m=D(),{table:d}=g({data:s||[],columns:m,count:a,pageSize:p,enablePagination:!0,getRowId:c=>c.id});if(n)throw f;return r.jsxs(x,{className:"divide-y p-0",children:[r.jsx("div",{className:"flex items-center justify-between px-6 py-4",children:r.jsx(C,{children:e("workflowExecutions.domain")})}),r.jsx(E,{table:d,columns:m,count:a,isLoading:i,pageSize:p,navigateTo:c=>`${c.id}`,search:!0,pagination:!0,queryObject:t})]})},re=()=>r.jsx("div",{className:"flex flex-col gap-y-2",children:r.jsx(I,{})});export{re as Component};
