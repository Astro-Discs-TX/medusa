import{u as x,j as e,a1 as f,aJ as u}from"./index-S--WvUSo.js";import{r as j}from"./react-PzSkSLoa.js";import{L as y,a as h,O as T}from"./react-router-dom-aSYyayiN.js";import{A as b}from"./action-menu-olZwXQ3q.js";import{u as v,a as _,D as N}from"./use-data-table-TeZp00wg.js";import{b as R,c as C}from"./tax-regions-jathV60U.js";import{g as S}from"./countries-QR_y0WJ_.js";import{T as w}from"./trash-nTjeUaCp.js";import{H as O}from"./heading-cSlef4Su.js";import{B as P}from"./button-Pc5Xo8ua.js";import{c as z}from"./index-JDlOzmVl.js";import"./react-dom-Og6--24v.js";import"./empty-table-content-i72rBIA2.js";import"./plus-mini-IRJECoWI.js";import"./index-1Zwdg31z.js";import"./use-date-Putn0_Ur.js";import"./format-vrL-wy9v.js";import"./date-picker-s8-9mila.js";import"./input-A29ux7yj.js";import"./minus-E5-czcFC.js";import"./x-mark-mini-aYDSd38M.js";import"./index-7dV3TD85.js";import"./index-Hm2Uj9Gg.js";import"./lodash-5s15_I2H.js";import"./label-HFq5fzpT.js";import"./command-bar-wUgfUfvQ.js";const A=({prefix:t,pageSize:s=20})=>{const r=v(["offset","q","order","created_at","updated_at"],t),{offset:a,q:o,order:c,created_at:i,updated_at:n}=r;return{searchParams:{limit:s,offset:a?Number(a):0,order:c,created_at:i?JSON.parse(i):void 0,updated_at:n?JSON.parse(n):void 0,q:o},raw:r}},p=20,D=()=>{const{t}=x(),{searchParams:s,raw:r}=A({pageSize:p}),{tax_regions:a,count:o,isLoading:c,isError:i,error:n}=R({...s,parent_id:"null"}),m=L(),{table:g}=_({data:a??[],columns:m,count:o,enablePagination:!0,getRowId:l=>l.id,pageSize:p});if(i)throw n;return e.jsxs(f,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(O,{level:"h2",children:t("taxes.domain")}),e.jsx(P,{size:"small",variant:"secondary",asChild:!0,children:e.jsx(y,{to:"/settings/taxes/create",children:t("actions.create")})})]}),e.jsx(N,{table:g,columns:m,count:o,pageSize:p,isLoading:c,navigateTo:l=>`${l.original.id}`,pagination:!0,queryObject:r})]})},E=({taxRegion:t})=>{const{t:s}=x(),r=h(),{mutateAsync:a}=C(t.id),o=async()=>{await a(void 0,{onSuccess:()=>{r("/settings/taxes",{replace:!0})}})};return e.jsx(b,{groups:[{actions:[{icon:e.jsx(w,{}),label:s("actions.delete"),onClick:o}]}]})},d=z(),L=()=>j.useMemo(()=>[d.accessor("country_code",{header:u("fields.country"),cell:({getValue:t})=>{var a;const s=t(),r=((a=S(s))==null?void 0:a.display_name)||s;return e.jsx("div",{className:"flex size-full items-center",children:e.jsx("span",{className:"truncate",children:r})})}}),d.display({id:"actions",cell:({row:t})=>e.jsx(E,{taxRegion:t.original})})],[u]),ce=()=>e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx(D,{}),e.jsx(T,{})]});export{ce as Component};
