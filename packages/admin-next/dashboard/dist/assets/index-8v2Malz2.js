import{u as o,j as a,a1 as y,ap as x}from"./index-S--WvUSo.js";import{L as b,O as P}from"./react-router-dom-aSYyayiN.js";import{u as j,a as S,D as T}from"./use-data-table-TeZp00wg.js";import{b as _,u as v}from"./shipping-profiles-CJfLxZ-F.js";import{r as k}from"./react-PzSkSLoa.js";import{A as w}from"./action-menu-olZwXQ3q.js";import{T as A}from"./trash-nTjeUaCp.js";import{t as u}from"./toast-4oQfF9Sm.js";import{u as C}from"./use-prompt-wB0F2CxI.js";import{c as D}from"./index-JDlOzmVl.js";import{H as L}from"./heading-cSlef4Su.js";import{B as E}from"./button-Pc5Xo8ua.js";import"./react-dom-Og6--24v.js";import"./empty-table-content-i72rBIA2.js";import"./plus-mini-IRJECoWI.js";import"./index-1Zwdg31z.js";import"./use-date-Putn0_Ur.js";import"./format-vrL-wy9v.js";import"./date-picker-s8-9mila.js";import"./input-A29ux7yj.js";import"./minus-E5-czcFC.js";import"./x-mark-mini-aYDSd38M.js";import"./index-7dV3TD85.js";import"./index-Hm2Uj9Gg.js";import"./lodash-5s15_I2H.js";import"./label-HFq5fzpT.js";import"./command-bar-wUgfUfvQ.js";import"./information-circle-solid-rXH6vJ5W.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";import"./prompt-LzbVPZYR.js";import"./index-sF0hA49A.js";const O=({profile:t})=>{const{t:e}=o(),s=C(),{mutateAsync:r}=_(t.id),i=async()=>{await s({title:e("shippingProfile.delete.title"),description:e("shippingProfile.delete.description",{name:t.name}),verificationText:t.name,verificationInstruction:e("general.typeToConfirm"),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await r(void 0,{onSuccess:()=>{u.success(e("general.success"),{description:e("shippingProfile.delete.successToast",{name:t.name}),dismissLabel:e("actions.close")})},onError:n=>{u.error(e("general.error"),{description:n.message,dismissLabel:e("actions.close")})}})};return a.jsx(w,{groups:[{actions:[{icon:a.jsx(A,{}),label:e("actions.delete"),onClick:i}]}]})},l=D(),N=()=>{const{t}=o();return k.useMemo(()=>[l.accessor("name",{header:t("fields.name"),cell:e=>e.getValue()}),l.accessor("type",{header:t("fields.type"),cell:e=>e.getValue()}),l.display({id:"actions",cell:({row:e})=>a.jsx(O,{profile:e.original})})],[t])},q=()=>{const{t}=o();let e=[];e.push({key:"name",label:t("fields.name"),type:"string"}),e.push({key:"type",label:t("fields.type"),type:"string"});const s=[{label:t("fields.createdAt"),key:"created_at"},{label:t("fields.updatedAt"),key:"updated_at"}].map(r=>({key:r.key,label:r.label,type:"date"}));return e=[...e,...s],e},z=({pageSize:t=20,prefix:e})=>{const s=j(["offset","q","order","created_at","updated_at","name","type"],e);return{searchParams:{limit:t,offset:s.offset?parseInt(s.offset):0,q:s.q,order:s.order,created_at:s.created_at?JSON.parse(s.created_at):void 0,updated_at:s.updated_at?JSON.parse(s.updated_at):void 0,name:s.name,type:s.type},raw:s}},c=20,H=()=>{const{t}=o(),{raw:e,searchParams:s}=z({pageSize:c}),{shipping_profiles:r,count:i,isLoading:m,isError:n,error:f}=v(s,{placeholderData:x}),d=N(),h=q(),{table:g}=S({data:r,columns:d,count:i,enablePagination:!0,getRowId:p=>p.id,pageSize:c});if(n)throw f;return a.jsxs(y,{className:"divide-y p-0",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[a.jsx(L,{level:"h2",children:t("shippingProfile.domain")}),a.jsx("div",{children:a.jsx(E,{size:"small",variant:"secondary",asChild:!0,children:a.jsx(b,{to:"create",children:t("actions.create")})})})]}),a.jsx(T,{table:g,pageSize:c,count:i,columns:d,filters:h,orderBy:["name","type","created_at","updated_at"],isLoading:m,navigateTo:p=>p.id,queryObject:e,search:!0,pagination:!0})]})},ge=()=>a.jsxs("div",{className:"flex flex-col gap-y-2",children:[a.jsx(H,{}),a.jsx(P,{})]});export{ge as Component};
