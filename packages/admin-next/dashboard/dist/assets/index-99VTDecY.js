import{u as v,j as e,a1 as x,Z as c,W as u}from"./index-S--WvUSo.js";import{I as y}from"./inventory-item-general-section-EfbAlFRl.js";import{J as m}from"./json-view-section-Dui2O31i.js";import{A as p}from"./action-menu-olZwXQ3q.js";import{S as r}from"./section-row-f0fE6sMo.js";import{u as f}from"./inventory-EQcmxo3i.js";import{a as j}from"./stock-locations-5f5MPAbM.js";import{P as g}from"./pencil-square-u3fizEAQ.js";import{H as h}from"./heading-cSlef4Su.js";import{b as I,r as _}from"./reservations-e8r1gx2W.js";import{c as w,d as q,O as L}from"./react-router-dom-aSYyayiN.js";import"./react-PzSkSLoa.js";import"./react-dom-Og6--24v.js";import"./badge-99FyByJO.js";import"./drawer-H3TI1lDZ.js";import"./index-sF0hA49A.js";import"./x-mark-mini-aYDSd38M.js";const N=({reservation:t})=>{const{t:n}=v(),{inventory_item:i,isPending:a}=f(t.inventory_item_id),{stock_location:s,isPending:l}=j(t.location_id);if(a||!i||l||!s)return e.jsx("div",{children:"Loading..."});const o=i.location_levels.find(d=>d.location_id===t.location_id);return e.jsxs(x,{className:"divide-y p-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsx(h,{children:n("inventory.reservation.header",{itemName:i.title??i.sku})}),e.jsx(p,{groups:[{actions:[{icon:e.jsx(g,{}),label:n("actions.edit"),to:"edit"}]}]})]}),e.jsx(r,{title:n("inventory.reservation.orderID"),value:t.line_item_id}),e.jsx(r,{title:n("inventory.reservation.description"),value:t.description}),e.jsx(r,{title:n("inventory.reservation.location"),value:s==null?void 0:s.name}),e.jsx(r,{title:n("inventory.reservation.inStockAtLocation"),value:o==null?void 0:o.stocked_quantity}),e.jsx(r,{title:n("inventory.reservation.availableAtLocation"),value:o==null?void 0:o.available_quantity}),e.jsx(r,{title:n("inventory.reservation.reservedAtLocation"),value:t.quantity})]})},V=()=>{const{id:t}=w(),n=q(),{reservation:i,isLoading:a,isError:s,error:l}=I(t,{},{initialData:n});if(a||!i)return e.jsx("div",{children:"Loading..."});if(s)throw l;return e.jsx("div",{className:"flex flex-col gap-y-2",children:e.jsxs("div",{className:"flex flex-col gap-x-4 lg:flex-row lg:items-start",children:[e.jsxs("div",{className:"flex w-full flex-col gap-y-2",children:[e.jsx(N,{reservation:i}),e.jsx("div",{className:"hidden lg:block",children:e.jsx(m,{data:i})})]}),e.jsxs("div",{className:"mt-2 flex w-full max-w-[100%] flex-col gap-y-2 lg:mt-0 lg:max-w-[400px]",children:[e.jsx(y,{inventoryItem:i.inventory_item}),e.jsx("div",{className:"lg:hidden",children:e.jsx(m,{data:i})}),e.jsx(L,{})]})]})})},S=t=>({queryKey:_.detail(t),queryFn:async()=>u.reservations.retrieve(t)}),W=async({params:t})=>{const n=t.id,i=S(n);return c.getQueryData(i.queryKey)??await c.fetchQuery(i)};export{V as Component,W as loader};
