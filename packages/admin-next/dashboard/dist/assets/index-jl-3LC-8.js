import{u as h,j as e}from"./index-S--WvUSo.js";import{u as f,R as t}from"./route-focus-modal-MMx5Xnk0.js";import{c as b,d as g}from"./sales-channels--fho5-f4.js";import{t as C}from"./zod-jt04JUtm.js";import{u as S,F as s}from"./form-0PHaH8g8.js";import{o as y,s as d,b as v}from"./index-JzuMwgWW.js";import{t as p}from"./toast-4oQfF9Sm.js";import{I as E}from"./input-A29ux7yj.js";import{T as F}from"./textarea-D4fuXHvE.js";import{S as w}from"./switch-VR1xZXYU.js";import{B as x}from"./button-Pc5Xo8ua.js";import{c as L}from"./react-router-dom-aSYyayiN.js";import{H as _}from"./heading-cSlef4Su.js";import"./react-PzSkSLoa.js";import"./react-dom-Og6--24v.js";import"./drawer-H3TI1lDZ.js";import"./index-sF0hA49A.js";import"./prompt-LzbVPZYR.js";import"./products-_PEbH1CR.js";import"./information-circle-solid-rXH6vJ5W.js";import"./label-HFq5fzpT.js";import"./tooltip-Ixyw9oT8.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";import"./index-Hm2Uj9Gg.js";const T=y({name:d().min(1),description:d().optional(),is_active:v()}),H=({salesChannel:n})=>{const{t:r}=h(),{handleSuccess:a}=f(),o=S({defaultValues:{name:n.name,description:n.description??"",is_active:!n.is_disabled},resolver:C(T)}),{mutateAsync:l,isPending:c}=b(n.id),j=o.handleSubmit(async i=>{await l({name:i.name,description:i.description??void 0,is_disabled:!i.is_active},{onSuccess:()=>{p.success(r("general.success"),{description:r("salesChannels.toast.update"),dismissLabel:r("actions.close")}),a()},onError:m=>{p.error(r("general.error"),{description:m.message,dismissLabel:r("actions.close")})}})});return e.jsx(t.Form,{form:o,children:e.jsxs("form",{onSubmit:j,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(t.Body,{className:"flex max-w-full flex-1 flex-col gap-y-8 overflow-y-auto",children:[e.jsx(s.Field,{control:o.control,name:"name",render:({field:i})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:r("fields.name")}),e.jsx(s.Control,{children:e.jsx(E,{...i,size:"small"})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:o.control,name:"description",render:({field:i})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:r("fields.description")}),e.jsx(s.Control,{children:e.jsx(F,{...i})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:o.control,name:"is_active",render:({field:{onChange:i,value:m,...u}})=>e.jsxs(s.Item,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(s.Label,{children:r("general.enabled")}),e.jsx(s.Control,{children:e.jsx(w,{onCheckedChange:i,checked:m,...u})})]}),e.jsx(s.Hint,{children:r("salesChannels.enabledHint")}),e.jsx(s.ErrorMessage,{})]})})]}),e.jsx(t.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(t.Close,{asChild:!0,children:e.jsx(x,{size:"small",variant:"secondary",children:r("actions.cancel")})}),e.jsx(x,{size:"small",type:"submit",isLoading:c,children:r("actions.save")})]})})]})})},re=()=>{const{id:n}=L(),{t:r}=h(),{sales_channel:a,isPending:o,isError:l,error:c}=g(n);if(l)throw c;return e.jsxs(t,{children:[e.jsx(t.Header,{children:e.jsx(_,{className:"capitalize",children:r("salesChannels.editSalesChannel")})}),!o&&!!a&&e.jsx(H,{salesChannel:a})]})};export{re as Component};
