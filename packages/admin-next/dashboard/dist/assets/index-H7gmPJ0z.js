import{u as n,j as s,a1 as g,ap as h}from"./index-S--WvUSo.js";import{L as j,O as P}from"./react-router-dom-aSYyayiN.js";import{u as b,a as y,D as T}from"./use-data-table-TeZp00wg.js";import{d as S,e as C}from"./price-lists---tSXD3D.js";import{r as L}from"./react-PzSkSLoa.js";import{S as k}from"./status-cell-9XExsAIG.js";import{T as v,a as w}from"./text-cell-OtkuJsO8.js";import{g as A}from"./utils-UWq8IC3A.js";import{A as D}from"./action-menu-olZwXQ3q.js";import{P as H}from"./pencil-square-u3fizEAQ.js";import{T as _}from"./trash-nTjeUaCp.js";import{u as q}from"./use-prompt-wB0F2CxI.js";import{c as E}from"./index-JDlOzmVl.js";import{H as z}from"./heading-cSlef4Su.js";import{B as N}from"./button-Pc5Xo8ua.js";import"./react-dom-Og6--24v.js";import"./empty-table-content-i72rBIA2.js";import"./plus-mini-IRJECoWI.js";import"./index-1Zwdg31z.js";import"./use-date-Putn0_Ur.js";import"./format-vrL-wy9v.js";import"./date-picker-s8-9mila.js";import"./input-A29ux7yj.js";import"./minus-E5-czcFC.js";import"./x-mark-mini-aYDSd38M.js";import"./index-7dV3TD85.js";import"./index-Hm2Uj9Gg.js";import"./lodash-5s15_I2H.js";import"./label-HFq5fzpT.js";import"./command-bar-wUgfUfvQ.js";import"./placeholder-cell-O6UVTGmQ.js";import"./constants-oWLT51HC.js";import"./prompt-LzbVPZYR.js";import"./index-sF0hA49A.js";const B=({priceList:t})=>{const{t:e}=n(),r=q(),{mutateAsync:a}=S(t.id),i=async()=>{await r({title:e("general.areYouSure"),description:e("pricing.deletePriceListWarning",{name:t.title}),confirmText:e("actions.delete"),cancelText:e("actions.cancel")})&&await a()};return s.jsx(D,{groups:[{actions:[{label:e("actions.edit"),to:`${t.id}/edit`,icon:s.jsx(H,{})}]},{actions:[{label:e("actions.delete"),onClick:i,icon:s.jsx(_,{})}]}]})},o=E(),F=()=>{const{t}=n();return L.useMemo(()=>[o.accessor("title",{header:()=>s.jsx(v,{text:t("fields.name")}),cell:e=>e.getValue()}),o.accessor("status",{header:t("fields.status"),cell:({row:e})=>{const{color:r,text:a}=A(t,e.original);return s.jsx(k,{color:r,children:a})}}),o.accessor("prices",{header:t("pricing.table.pricesHeader"),cell:e=>{var r;return s.jsx(w,{text:`${((r=e.getValue())==null?void 0:r.length)||"-"}`})}}),o.display({id:"actions",cell:({row:e})=>s.jsx(B,{priceList:e.original})})],[t])},O=()=>{const{t}=n();return[{label:t("fields.createdAt"),key:"created_at"},{label:t("fields.updatedAt"),key:"updated_at"}].map(r=>({key:r.key,label:r.label,type:"date"}))},I=({pageSize:t=20,prefix:e})=>{const r=b(["offset","q"],e);return{searchParams:{limit:t,offset:r.offset?Number(r.offset):0,q:r.q},raw:r}},l=20,M=()=>{const{t}=n(),{searchParams:e,raw:r}=I({pageSize:l}),{price_lists:a,count:i,isLoading:m,isError:d,error:u}=C(void 0,{placeholderData:h}),f=O(),p=F(),{table:x}=y({data:a||[],columns:p,count:i,enablePagination:!0,getRowId:c=>c.id,pageSize:l});if(d)throw u;return s.jsxs(g,{className:"divide-y p-0",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsx(z,{children:t("pricing.domain")}),s.jsx(N,{size:"small",variant:"secondary",asChild:!0,children:s.jsx(j,{to:"create",children:t("actions.create")})})]}),s.jsx(T,{table:x,columns:p,count:i,filters:f,orderBy:["name","status","created_at","updated_at"],queryObject:r,pageSize:l,navigateTo:c=>c.original.id,isLoading:m,pagination:!0,search:!0})]})},Te=()=>s.jsxs("div",{className:"flex flex-col gap-y-2",children:[s.jsx(M,{}),s.jsx(P,{})]});export{Te as Component};
