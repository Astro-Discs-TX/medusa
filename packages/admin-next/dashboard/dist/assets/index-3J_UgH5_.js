import{u as v,j as e}from"./index-S--WvUSo.js";import{u as b,R as u}from"./route-focus-modal-MMx5Xnk0.js";import{t as y}from"./zod-jt04JUtm.js";import{u as I,F as r}from"./form-0PHaH8g8.js";import{z as a}from"./index-JzuMwgWW.js";import{C as F}from"./country-select-m4Xtwmuu.js";import{b as w,u as C}from"./inventory-EQcmxo3i.js";import{t as g}from"./toast-4oQfF9Sm.js";import{I as m}from"./input-A29ux7yj.js";import{B as f}from"./button-Pc5Xo8ua.js";import{c as E}from"./react-router-dom-aSYyayiN.js";import{H as _}from"./heading-cSlef4Su.js";import"./react-PzSkSLoa.js";import"./react-dom-Og6--24v.js";import"./drawer-H3TI1lDZ.js";import"./index-sF0hA49A.js";import"./prompt-LzbVPZYR.js";import"./information-circle-solid-rXH6vJ5W.js";import"./label-HFq5fzpT.js";import"./tooltip-Ixyw9oT8.js";import"./countries-QR_y0WJ_.js";import"./triangles-mini-HukRlWGp.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";const L=a.object({height:a.number().positive().optional(),width:a.number().positive().optional(),length:a.number().positive().optional(),weight:a.number().positive().optional(),mid_code:a.string().optional(),hs_code:a.string().optional(),origin_country:a.string().optional()}),M=s=>({height:s.height??void 0,width:s.width??void 0,length:s.length??void 0,weight:s.weight??void 0,mid_code:s.mid_code??void 0,hs_code:s.hs_code??void 0,origin_country:s.origin_country??void 0}),S=({item:s})=>{const{t}=v(),{handleSuccess:h}=b(),n=I({defaultValues:M(s),resolver:y(L)}),{mutateAsync:x,isPending:p}=w(s.id),j=n.handleSubmit(async o=>{await x(o,{onSuccess:()=>{g.success(t("general.success"),{description:t("inventory.toast.update"),dismissLabel:t("actions.close")}),h()},onError:l=>g.error(t("general.error"),{description:l.message,dismissLabel:t("actions.close")})})});return e.jsx(u.Form,{form:n,children:e.jsxs("form",{onSubmit:j,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(u.Body,{className:"flex flex-1 flex-col gap-y-4 overflow-auto",children:[e.jsx(r.Field,{control:n.control,name:"height",render:({field:{onChange:o,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:t("fields.height")}),e.jsx(r.Control,{children:e.jsx(m,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;o(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"width",render:({field:{onChange:o,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:t("fields.width")}),e.jsx(r.Control,{children:e.jsx(m,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;o(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"length",render:({field:{onChange:o,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:t("fields.length")}),e.jsx(r.Control,{children:e.jsx(m,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;o(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"weight",render:({field:{onChange:o,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:t("fields.weight")}),e.jsx(r.Control,{children:e.jsx(m,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;o(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"mid_code",render:({field:o})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:t("fields.midCode")}),e.jsx(r.Control,{children:e.jsx(m,{...o})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"hs_code",render:({field:o})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:t("fields.hsCode")}),e.jsx(r.Control,{children:e.jsx(m,{...o})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:n.control,name:"origin_country",render:({field:o})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:t("fields.countryOfOrigin")}),e.jsx(r.Control,{children:e.jsx(F,{...o})}),e.jsx(r.ErrorMessage,{})]})})]}),e.jsx(u.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(u.Close,{asChild:!0,children:e.jsx(f,{variant:"secondary",size:"small",children:t("actions.cancel")})}),e.jsx(f,{type:"submit",size:"small",isLoading:p,children:t("actions.save")})]})})]})})},re=()=>{const{id:s}=E(),{t}=v(),{inventory_item:h,isPending:n,isError:x,error:p}=C(s),j=!n&&h;if(x)throw p;return e.jsxs(u,{children:[e.jsx(u.Header,{children:e.jsx(_,{children:t("products.editAttributes")})}),j&&e.jsx(S,{item:h})]})};export{re as Component};
