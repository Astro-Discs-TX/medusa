import{bx as N,u as _,aq as x}from"./index-S--WvUSo.js";import{t as u,c as g,a as T,m as b,b as D,g as F,f as I}from"./format-vrL-wy9v.js";function O(n,e){const t=u(n);return isNaN(e)?g(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function X(n,e){const t=u(n);if(isNaN(e))return g(n,NaN);if(!e)return t;const a=t.getDate(),s=g(n,t.getTime());s.setMonth(t.getMonth()+e+1,0);const o=s.getDate();return a>=o?s:(t.setFullYear(s.getFullYear(),s.getMonth(),a),t)}function M(n,e){const t=u(n),a=u(e),s=t.getTime()-a.getTime();return s<0?-1:s>0?1:s}function Y(n,e){const t=u(n),a=u(e),s=t.getFullYear()-a.getFullYear(),o=t.getMonth()-a.getMonth();return s*12+o}function w(n){return n?Math[n]:Math.trunc}function R(n,e){return u(n).getTime()-u(e).getTime()}function v(n){const e=u(n);return e.setHours(23,59,59,999),e}function H(n){const e=u(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function L(n){const e=u(n);return+v(e)==+H(e)}function A(n,e){const t=u(n),a=u(e),s=M(t,a),o=Math.abs(Y(t,a));let c;if(o<1)c=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-s*o);let r=M(t,a)===-s;L(u(n))&&o===1&&M(n,a)===1&&(r=!1),c=s*(o-Number(r))}return c===0?0:c}function z(n,e,t){const a=R(n,e)/1e3;return w(t==null?void 0:t.roundingMethod)(a)}function P(n,e,t){const a=F(),s=(t==null?void 0:t.locale)??a.locale??N,o=2520,c=M(n,e);if(isNaN(c))throw new RangeError("Invalid time value");const r=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:c});let l,m;c>0?(l=u(e),m=u(n)):(l=u(n),m=u(e));const d=z(m,l),y=(T(m)-T(l))/1e3,i=Math.round((d-y)/60);let h;if(i<2)return t!=null&&t.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,r):d<10?s.formatDistance("lessThanXSeconds",10,r):d<20?s.formatDistance("lessThanXSeconds",20,r):d<40?s.formatDistance("halfAMinute",0,r):d<60?s.formatDistance("lessThanXMinutes",1,r):s.formatDistance("xMinutes",1,r):i===0?s.formatDistance("lessThanXMinutes",1,r):s.formatDistance("xMinutes",i,r);if(i<45)return s.formatDistance("xMinutes",i,r);if(i<90)return s.formatDistance("aboutXHours",1,r);if(i<b){const f=Math.round(i/60);return s.formatDistance("aboutXHours",f,r)}else{if(i<o)return s.formatDistance("xDays",1,r);if(i<D){const f=Math.round(i/b);return s.formatDistance("xDays",f,r)}else if(i<D*2)return h=Math.round(i/D),s.formatDistance("aboutXMonths",h,r)}if(h=A(m,l),h<12){const f=Math.round(i/D);return s.formatDistance("xMonths",f,r)}else{const f=h%12,S=Math.floor(h/12);return f<3?s.formatDistance("aboutXYears",S,r):f<9?s.formatDistance("overXYears",S,r):s.formatDistance("almostXYears",S+1,r)}}function W(n,e){return O(n,-e)}function j(n,e){return X(n,-e)}function k(n,e){const{years:t=0,months:a=0,weeks:s=0,days:o=0,hours:c=0,minutes:r=0,seconds:l=0}=e,m=j(n,a+t*12),d=W(m,o+s*7),y=r+c*60,h=(l+y*60)*1e3;return g(n,d.getTime()-h)}const E=()=>{var s;const{i18n:n}=_(),e=((s=x.find(o=>o.code===n.language))==null?void 0:s.date_locale)||N,t=({date:o,includeTime:c=!1})=>{const r=new Date(o);return isNaN(r.getTime())?"":I(r,`PP ${c?"p":""}`,{locale:e})};function a(o){const c=new Date;return P(k(new Date(o),{minutes:0}),c,{addSuffix:!0,locale:e})}return{getFullDate:t,getRelativeDate:a}};export{E as u};
