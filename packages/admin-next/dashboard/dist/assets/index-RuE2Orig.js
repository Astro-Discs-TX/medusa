import{u as j,j as e,T as f}from"./index-S--WvUSo.js";import{u,a as i}from"./route-focus-modal-MMx5Xnk0.js";import{t as b}from"./zod-jt04JUtm.js";import{u as C,F as s}from"./form-0PHaH8g8.js";import{o as g,s as o,b as y}from"./index-JzuMwgWW.js";import{b as S}from"./sales-channels--fho5-f4.js";import{t}from"./toast-4oQfF9Sm.js";import{B as c}from"./button-Pc5Xo8ua.js";import{H as v}from"./heading-cSlef4Su.js";import{I as N}from"./input-A29ux7yj.js";import{T as F}from"./textarea-D4fuXHvE.js";import{S as w}from"./switch-VR1xZXYU.js";import"./react-PzSkSLoa.js";import"./react-dom-Og6--24v.js";import"./react-router-dom-aSYyayiN.js";import"./drawer-H3TI1lDZ.js";import"./index-sF0hA49A.js";import"./prompt-LzbVPZYR.js";import"./information-circle-solid-rXH6vJ5W.js";import"./label-HFq5fzpT.js";import"./tooltip-Ixyw9oT8.js";import"./products-_PEbH1CR.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";import"./index-Hm2Uj9Gg.js";const T=g({name:o().min(1),description:o().min(1),enabled:y()}),H=()=>{const{t:r}=j(),{handleSuccess:m}=u(),l=C({defaultValues:{name:"",description:"",enabled:!0},resolver:b(T)}),{mutateAsync:d,isPending:x}=S(),h=l.handleSubmit(async n=>{await d({name:n.name,description:n.description,is_disabled:!n.enabled},{onSuccess:({sales_channel:a})=>{t.success(r("general.success"),{description:r("salesChannels.toast.create"),dismissLabel:r("actions.close")}),m(`../${a.id}`)},onError:a=>t.success(r("general.success"),{description:a.message,dismissLabel:r("actions.close")})})});return e.jsx(i.Form,{form:l,children:e.jsxs("form",{onSubmit:h,className:"flex h-full flex-col overflow-hidden",children:[e.jsx(i.Header,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(i.Close,{asChild:!0,children:e.jsx(c,{size:"small",variant:"secondary",children:r("actions.cancel")})}),e.jsx(c,{size:"small",type:"submit",isLoading:x,children:r("actions.save")})]})}),e.jsx(i.Body,{className:"flex flex-1 flex-col overflow-hidden",children:e.jsx("div",{className:"flex flex-1 flex-col items-center overflow-y-auto",children:e.jsxs("div",{className:"flex w-full max-w-[720px] flex-col gap-y-8 px-2 py-16",children:[e.jsxs("div",{children:[e.jsx(v,{className:"capitalize",children:r("salesChannels.createSalesChannel")}),e.jsx(f,{size:"small",className:"text-ui-fg-subtle",children:r("salesChannels.createSalesChannelHint")})]}),e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx("div",{className:"grid grid-cols-2",children:e.jsx(s.Field,{control:l.control,name:"name",render:({field:n})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:r("fields.name")}),e.jsx(s.Control,{children:e.jsx(N,{size:"small",...n})}),e.jsx(s.ErrorMessage,{})]})})}),e.jsx(s.Field,{control:l.control,name:"description",render:({field:n})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:r("fields.description")}),e.jsx(s.Control,{children:e.jsx(F,{...n})}),e.jsx(s.ErrorMessage,{})]})})]}),e.jsx(s.Field,{control:l.control,name:"enabled",render:({field:{value:n,onChange:a,...p}})=>e.jsxs(s.Item,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(s.Label,{children:r("general.enabled")}),e.jsx(s.Control,{children:e.jsx(w,{...p,checked:n,onCheckedChange:a})})]}),e.jsx(s.Hint,{children:r("salesChannels.enabledHint")}),e.jsx(s.ErrorMessage,{})]})})]})})})]})})},ee=()=>e.jsx(i,{children:e.jsx(H,{})});export{ee as Component};
