import{u,j as e}from"./index-S--WvUSo.js";import{u as f,R as r}from"./route-focus-modal-MMx5Xnk0.js";import{a as h,b as j}from"./api-keys-HCNnizij.js";import{t as g}from"./zod-jt04JUtm.js";import{u as y,F as i}from"./form-0PHaH8g8.js";import{o as b,s as E}from"./index-JzuMwgWW.js";import{t as d}from"./toast-4oQfF9Sm.js";import{I as F}from"./input-A29ux7yj.js";import{B as p}from"./button-Pc5Xo8ua.js";import{c as K}from"./react-router-dom-aSYyayiN.js";import{H as A}from"./heading-cSlef4Su.js";import"./react-PzSkSLoa.js";import"./react-dom-Og6--24v.js";import"./drawer-H3TI1lDZ.js";import"./index-sF0hA49A.js";import"./prompt-LzbVPZYR.js";import"./sales-channels--fho5-f4.js";import"./products-_PEbH1CR.js";import"./information-circle-solid-rXH6vJ5W.js";import"./label-HFq5fzpT.js";import"./tooltip-Ixyw9oT8.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";const S=b({title:E().min(1)}),v=({apiKey:o})=>{const{t:s}=u(),{handleSuccess:a}=f(),t=y({defaultValues:{title:o.title},resolver:g(S)}),{mutateAsync:n,isPending:m}=h(o.id),x=t.handleSubmit(async l=>{await n(l,{onSuccess:({api_key:c})=>{d.success(s("general.success"),{description:s("apiKeyManagement.edit.successToast",{title:c.title}),dismissLabel:s("general.close")}),a()},onError:c=>{d.error(s("general.error"),{description:c.message,dismissLabel:s("general.close")})}})});return e.jsx(r.Form,{form:t,children:e.jsxs("form",{onSubmit:x,className:"flex flex-1 flex-col",children:[e.jsx(r.Body,{children:e.jsx("div",{className:"flex flex-col gap-y-4",children:e.jsx(i.Field,{control:t.control,name:"title",render:({field:l})=>e.jsxs(i.Item,{children:[e.jsx(i.Label,{children:s("fields.title")}),e.jsx(i.Control,{children:e.jsx(F,{...l})}),e.jsx(i.ErrorMessage,{})]})})})}),e.jsx(r.Footer,{children:e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(r.Close,{asChild:!0,children:e.jsx(p,{size:"small",variant:"secondary",children:s("actions.cancel")})}),e.jsx(p,{size:"small",type:"submit",isLoading:m,children:s("actions.save")})]})})]})})},W=()=>{const{id:o}=K(),{t:s}=u(),{api_key:a,isLoading:t,isError:n,error:m}=j(o);if(n)throw m;return e.jsxs(r,{children:[e.jsx(r.Header,{children:e.jsx(A,{children:s("apiKeyManagement.edit.header")})}),!t&&!!a&&e.jsx(v,{apiKey:a})]})};export{W as Component};
