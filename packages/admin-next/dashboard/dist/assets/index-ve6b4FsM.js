import{u,j as s,a1 as h,ap as x}from"./index-S--WvUSo.js";import{r as g}from"./react-PzSkSLoa.js";import{L as j,O as C}from"./react-router-dom-aSYyayiN.js";import{A as b}from"./action-menu-olZwXQ3q.js";import{a as S,D as y}from"./use-data-table-TeZp00wg.js";import{u as T,a as v}from"./sales-channels--fho5-f4.js";import{u as P,a as D}from"./use-sales-channel-table-query-O9OBIAwF.js";import{P as L}from"./pencil-square-u3fizEAQ.js";import{T as w}from"./trash-nTjeUaCp.js";import{t as p}from"./toast-4oQfF9Sm.js";import{u as A}from"./use-prompt-wB0F2CxI.js";import{H as E}from"./heading-cSlef4Su.js";import{B as z}from"./button-Pc5Xo8ua.js";import{c as H}from"./index-JDlOzmVl.js";import"./react-dom-Og6--24v.js";import"./empty-table-content-i72rBIA2.js";import"./plus-mini-IRJECoWI.js";import"./index-1Zwdg31z.js";import"./use-date-Putn0_Ur.js";import"./format-vrL-wy9v.js";import"./date-picker-s8-9mila.js";import"./input-A29ux7yj.js";import"./minus-E5-czcFC.js";import"./x-mark-mini-aYDSd38M.js";import"./index-7dV3TD85.js";import"./index-Hm2Uj9Gg.js";import"./lodash-5s15_I2H.js";import"./label-HFq5fzpT.js";import"./command-bar-wUgfUfvQ.js";import"./products-_PEbH1CR.js";import"./status-cell-9XExsAIG.js";import"./text-cell-OtkuJsO8.js";import"./placeholder-cell-O6UVTGmQ.js";import"./information-circle-solid-rXH6vJ5W.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";import"./prompt-LzbVPZYR.js";import"./index-sF0hA49A.js";const l=20,_=()=>{const{t}=u(),{raw:e,searchParams:o}=P({pageSize:l}),{sales_channels:r,count:a,isPending:c,isError:i,error:d}=T(o,{placeholderData:x}),m=I(),{table:f}=S({data:r??[],columns:m,count:a,enablePagination:!0,getRowId:n=>n.id,pageSize:l});if(i)throw d;return s.jsxs(h,{className:"divide-y p-0",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[s.jsx(E,{level:"h2",children:t("salesChannels.domain")}),s.jsx(j,{to:"/settings/sales-channels/create",children:s.jsx(z,{size:"small",variant:"secondary",children:t("actions.create")})})]}),s.jsx(y,{table:f,columns:m,count:a,pageSize:l,pagination:!0,search:!0,navigateTo:n=>n.id,isLoading:c,queryObject:e,orderBy:["name","created_at","updated_at"]})]})},k=({salesChannel:t})=>{const{t:e}=u(),o=A(),{mutateAsync:r}=v(t.id),a=async()=>{if(await o({title:e("general.areYouSure"),description:e("salesChannels.deleteSalesChannelWarning",{name:t.name}),verificationInstruction:e("general.typeToConfirm"),verificationText:t.name,confirmText:e("actions.delete"),cancelText:e("actions.cancel")}))try{await r(),p.success(e("general.success"),{description:e("salesChannels.toast.delete"),dismissLabel:e("actions.close")})}catch(i){p.error(e("general.error"),{description:i.message,dismissLabel:e("actions.close")})}};return s.jsx(b,{groups:[{actions:[{icon:s.jsx(L,{}),label:e("actions.edit"),to:`/settings/sales-channels/${t.id}/edit`}]},{actions:[{icon:s.jsx(w,{}),label:e("actions.delete"),onClick:a}]}]})},B=H(),I=()=>{const t=D();return g.useMemo(()=>[...t,B.display({id:"actions",cell:({row:e})=>s.jsx(k,{salesChannel:e.original})})],[t])},Se=()=>s.jsxs("div",{className:"flex flex-col gap-y-2",children:[s.jsx(_,{}),s.jsx(C,{})]});export{Se as Component};
