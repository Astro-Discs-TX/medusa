import{w as K,b7 as dt,t as A,_,z as M,b8 as se,b9 as ut,k as Fe,B as ft,ba as pt,bb as mt,bc as $t,bd as vt,be as ht,bf as gt,bg as bt,bh as xt,bi as wt,bj as ne,bk as Et,F as yt,G as St,D as Ct,$ as Pt,N as Ee,p as Tt,q as Ce,f as _t,d as oe,bl as Ot}from"./index-S--WvUSo.js";import{r as e}from"./react-PzSkSLoa.js";import{$ as It,r as Me}from"./react-dom-Og6--24v.js";import{$ as Rt}from"./index-Hm2Uj9Gg.js";import{$ as Dt}from"./tooltip-Ixyw9oT8.js";import{T as Nt}from"./triangles-mini-HukRlWGp.js";function Pe(t,[o,n]){return Math.min(n,Math.max(o,t))}const xe="dismissableLayer.update",At="dismissableLayer.pointerDownOutside",Ft="dismissableLayer.focusOutside";let Te;const Mt=e.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lt=e.forwardRef((t,o)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:c,onDismiss:d,...p}=t,m=e.useContext(Mt),[h,C]=e.useState(null),g=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=e.useState({}),u=K(o,w=>C(w)),x=Array.from(m.layers),[f]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),l=x.indexOf(f),$=h?x.indexOf(h):-1,S=m.layersWithOutsidePointerEventsDisabled.size>0,I=$>=l,q=kt(w=>{const N=w.target,U=[...m.branches].some(k=>k.contains(N));!I||U||(i==null||i(w),c==null||c(w),w.defaultPrevented||d==null||d())},g),O=Ht(w=>{const N=w.target;[...m.branches].some(k=>k.contains(N))||(s==null||s(w),c==null||c(w),w.defaultPrevented||d==null||d())},g);return dt(w=>{$===m.layers.size-1&&(a==null||a(w),!w.defaultPrevented&&d&&(w.preventDefault(),d()))},g),e.useEffect(()=>{if(h)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Te=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),_e(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Te)}},[h,g,r,m]),e.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),_e())},[h,m]),e.useEffect(()=>{const w=()=>v({});return document.addEventListener(xe,w),()=>document.removeEventListener(xe,w)},[]),e.createElement(A.div,_({},p,{ref:u,style:{pointerEvents:S?I?"auto":"none":void 0,...t.style},onFocusCapture:M(t.onFocusCapture,O.onFocusCapture),onBlurCapture:M(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:M(t.onPointerDownCapture,q.onPointerDownCapture)}))});function kt(t,o=globalThis==null?void 0:globalThis.document){const n=se(t),r=e.useRef(!1),a=e.useRef(()=>{});return e.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let p=function(){Le(At,n,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(o.removeEventListener("click",a.current),a.current=p,o.addEventListener("click",a.current,{once:!0})):p()}else o.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{o.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),o.removeEventListener("pointerdown",i),o.removeEventListener("click",a.current)}},[o,n]),{onPointerDownCapture:()=>r.current=!0}}function Ht(t,o=globalThis==null?void 0:globalThis.document){const n=se(t),r=e.useRef(!1);return e.useEffect(()=>{const a=i=>{i.target&&!r.current&&Le(Ft,n,{originalEvent:i},{discrete:!1})};return o.addEventListener("focusin",a),()=>o.removeEventListener("focusin",a)},[o,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function _e(){const t=new CustomEvent(xe);document.dispatchEvent(t)}function Le(t,o,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});o&&a.addEventListener(t,o,{once:!0}),r?ut(a,i):a.dispatchEvent(i)}const ge="focusScope.autoFocusOnMount",be="focusScope.autoFocusOnUnmount",Oe={bubbles:!1,cancelable:!0},Wt=e.forwardRef((t,o)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=t,[c,d]=e.useState(null),p=se(a),m=se(i),h=e.useRef(null),C=K(o,u=>d(u)),g=e.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;e.useEffect(()=>{if(r){let u=function($){if(g.paused||!c)return;const S=$.target;c.contains(S)?h.current=S:te(h.current,{select:!0})},x=function($){if(g.paused||!c)return;const S=$.relatedTarget;S!==null&&(c.contains(S)||te(h.current,{select:!0}))},f=function($){if(document.activeElement===document.body)for(const I of $)I.removedNodes.length>0&&te(c)};document.addEventListener("focusin",u),document.addEventListener("focusout",x);const l=new MutationObserver(f);return c&&l.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",x),l.disconnect()}}},[r,c,g.paused]),e.useEffect(()=>{if(c){Re.add(g);const u=document.activeElement;if(!c.contains(u)){const f=new CustomEvent(ge,Oe);c.addEventListener(ge,p),c.dispatchEvent(f),f.defaultPrevented||(Vt(Gt(ke(c)),{select:!0}),document.activeElement===u&&te(c))}return()=>{c.removeEventListener(ge,p),setTimeout(()=>{const f=new CustomEvent(be,Oe);c.addEventListener(be,m),c.dispatchEvent(f),f.defaultPrevented||te(u??document.body,{select:!0}),c.removeEventListener(be,m),Re.remove(g)},0)}}},[c,p,m,g]);const v=e.useCallback(u=>{if(!n&&!r||g.paused)return;const x=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,f=document.activeElement;if(x&&f){const l=u.currentTarget,[$,S]=Bt(l);$&&S?!u.shiftKey&&f===S?(u.preventDefault(),n&&te($,{select:!0})):u.shiftKey&&f===$&&(u.preventDefault(),n&&te(S,{select:!0})):f===l&&u.preventDefault()}},[n,r,g.paused]);return e.createElement(A.div,_({tabIndex:-1},s,{ref:C,onKeyDown:v}))});function Vt(t,{select:o=!1}={}){const n=document.activeElement;for(const r of t)if(te(r,{select:o}),document.activeElement!==n)return}function Bt(t){const o=ke(t),n=Ie(o,t),r=Ie(o.reverse(),t);return[n,r]}function ke(t){const o=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)o.push(n.currentNode);return o}function Ie(t,o){for(const n of t)if(!Kt(n,{upTo:o}))return n}function Kt(t,{upTo:o}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(o!==void 0&&t===o)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ut(t){return t instanceof HTMLInputElement&&"select"in t}function te(t,{select:o=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ut(t)&&o&&t.select()}}const Re=zt();function zt(){let t=[];return{add(o){const n=t[0];o!==n&&(n==null||n.pause()),t=De(t,o),t.unshift(o)},remove(o){var n;t=De(t,o),(n=t[0])===null||n===void 0||n.resume()}}}function De(t,o){const n=[...t],r=n.indexOf(o);return r!==-1&&n.splice(r,1),n}function Gt(t){return t.filter(o=>o.tagName!=="A")}const He="Popper",[We,Ve]=Fe(He),[jt,Be]=We(He),qt=t=>{const{__scopePopper:o,children:n}=t,[r,a]=e.useState(null);return e.createElement(jt,{scope:o,anchor:r,onAnchorChange:a},n)},Xt="PopperAnchor",Yt=e.forwardRef((t,o)=>{const{__scopePopper:n,virtualRef:r,...a}=t,i=Be(Xt,n),s=e.useRef(null),c=K(o,s);return e.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:e.createElement(A.div,_({},a,{ref:c}))}),Ke="PopperContent",[Zt,ro]=We(Ke),Jt=e.forwardRef((t,o)=>{var n,r,a,i,s,c,d,p;const{__scopePopper:m,side:h="bottom",sideOffset:C=0,align:g="center",alignOffset:v=0,arrowPadding:u=0,avoidCollisions:x=!0,collisionBoundary:f=[],collisionPadding:l=0,sticky:$="partial",hideWhenDetached:S=!1,updatePositionStrategy:I="optimized",onPlaced:q,...O}=t,w=Be(Ke,m),[N,U]=e.useState(null),k=K(o,Z=>U(Z)),[L,j]=e.useState(null),F=ft(L),D=(n=F==null?void 0:F.width)!==null&&n!==void 0?n:0,H=(r=F==null?void 0:F.height)!==null&&r!==void 0?r:0,z=h+(g!=="center"?"-"+g:""),Q=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},G=Array.isArray(f)?f:[f],de=G.length>0,X={padding:Q,boundary:G.filter(Qt),altBoundary:de},{refs:ue,floatingStyles:ae,placement:ee,isPositioned:Y,middlewareData:B}=pt({strategy:"fixed",placement:z,whileElementsMounted:(...Z)=>mt(...Z,{animationFrame:I==="always"}),elements:{reference:w.anchor},middleware:[$t({mainAxis:C+H,alignmentAxis:v}),x&&vt({mainAxis:!0,crossAxis:!1,limiter:$==="partial"?ht():void 0,...X}),x&&gt({...X}),bt({...X,apply:({elements:Z,rects:ce,availableWidth:fe,availableHeight:st})=>{const{width:it,height:lt}=ce.reference,pe=Z.floating.style;pe.setProperty("--radix-popper-available-width",`${fe}px`),pe.setProperty("--radix-popper-available-height",`${st}px`),pe.setProperty("--radix-popper-anchor-width",`${it}px`),pe.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),L&&xt({element:L,padding:u}),en({arrowWidth:D,arrowHeight:H}),S&&wt({strategy:"referenceHidden",...X})]}),[b,P]=Ue(ee),R=se(q);ne(()=>{Y&&(R==null||R())},[Y,R]);const T=(a=B.arrow)===null||a===void 0?void 0:a.x,E=(i=B.arrow)===null||i===void 0?void 0:i.y,y=((s=B.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[W,V]=e.useState();return ne(()=>{N&&V(window.getComputedStyle(N).zIndex)},[N]),e.createElement("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:Y?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(c=B.transformOrigin)===null||c===void 0?void 0:c.x,(d=B.transformOrigin)===null||d===void 0?void 0:d.y].join(" ")},dir:t.dir},e.createElement(Zt,{scope:m,placedSide:b,onArrowChange:j,arrowX:T,arrowY:E,shouldHideArrow:y},e.createElement(A.div,_({"data-side":b,"data-align":P},O,{ref:k,style:{...O.style,animation:Y?void 0:"none",opacity:(p=B.hide)!==null&&p!==void 0&&p.referenceHidden?0:void 0}}))))});function Qt(t){return t!==null}const en=t=>({name:"transformOrigin",options:t,fn(o){var n,r,a,i,s;const{placement:c,rects:d,middlewareData:p}=o,h=((n=p.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,C=h?0:t.arrowWidth,g=h?0:t.arrowHeight,[v,u]=Ue(c),x={start:"0%",center:"50%",end:"100%"}[u],f=((r=(a=p.arrow)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0)+C/2,l=((i=(s=p.arrow)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0)+g/2;let $="",S="";return v==="bottom"?($=h?x:`${f}px`,S=`${-g}px`):v==="top"?($=h?x:`${f}px`,S=`${d.floating.height+g}px`):v==="right"?($=`${-g}px`,S=h?x:`${l}px`):v==="left"&&($=`${d.floating.width+g}px`,S=h?x:`${l}px`),{data:{x:$,y:S}}}});function Ue(t){const[o,n="center"]=t.split("-");return[o,n]}const tn=qt,nn=Yt,on=Jt,rn=e.forwardRef((t,o)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=t;return r?It.createPortal(e.createElement(A.div,_({},a,{ref:o})),r):null}),an=[" ","Enter","ArrowUp","ArrowDown"],cn=[" ","Enter"],$e="Select",[ve,ye,sn]=Et($e),[le,ao]=Fe($e,[sn,Ve]),Se=Ve(),[ln,re]=le($e),[dn,un]=le($e),fn=t=>{const{__scopeSelect:o,children:n,open:r,defaultOpen:a,onOpenChange:i,value:s,defaultValue:c,onValueChange:d,dir:p,name:m,autoComplete:h,disabled:C,required:g}=t,v=Se(o),[u,x]=e.useState(null),[f,l]=e.useState(null),[$,S]=e.useState(!1),I=Tt(p),[q=!1,O]=Ce({prop:r,defaultProp:a,onChange:i}),[w,N]=Ce({prop:s,defaultProp:c,onChange:d}),U=e.useRef(null),k=u?!!u.closest("form"):!0,[L,j]=e.useState(new Set),F=Array.from(L).map(D=>D.props.value).join(";");return e.createElement(tn,v,e.createElement(ln,{required:g,scope:o,trigger:u,onTriggerChange:x,valueNode:f,onValueNodeChange:l,valueNodeHasChildren:$,onValueNodeHasChildrenChange:S,contentId:Ee(),value:w,onValueChange:N,open:q,onOpenChange:O,dir:I,triggerPointerDownPosRef:U,disabled:C},e.createElement(ve.Provider,{scope:o},e.createElement(dn,{scope:t.__scopeSelect,onNativeOptionAdd:e.useCallback(D=>{j(H=>new Set(H).add(D))},[]),onNativeOptionRemove:e.useCallback(D=>{j(H=>{const z=new Set(H);return z.delete(D),z})},[])},n)),k?e.createElement(qe,{key:F,"aria-hidden":!0,required:g,tabIndex:-1,name:m,autoComplete:h,value:w,onChange:D=>N(D.target.value),disabled:C},w===void 0?e.createElement("option",{value:""}):null,Array.from(L)):null))},pn="SelectTrigger",mn=e.forwardRef((t,o)=>{const{__scopeSelect:n,disabled:r=!1,...a}=t,i=Se(n),s=re(pn,n),c=s.disabled||r,d=K(o,s.onTriggerChange),p=ye(n),[m,h,C]=Xe(v=>{const u=p().filter(l=>!l.disabled),x=u.find(l=>l.value===s.value),f=Ye(u,v,x);f!==void 0&&s.onValueChange(f.value)}),g=()=>{c||(s.onOpenChange(!0),C())};return e.createElement(nn,_({asChild:!0},i),e.createElement(A.button,_({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":je(s.value)?"":void 0},a,{ref:d,onClick:M(a.onClick,v=>{v.currentTarget.focus()}),onPointerDown:M(a.onPointerDown,v=>{const u=v.target;u.hasPointerCapture(v.pointerId)&&u.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(g(),s.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:M(a.onKeyDown,v=>{const u=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(u&&v.key===" ")&&an.includes(v.key)&&(g(),v.preventDefault())})})))}),$n="SelectValue",vn=e.forwardRef((t,o)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:s="",...c}=t,d=re($n,n),{onValueNodeHasChildrenChange:p}=d,m=i!==void 0,h=K(o,d.onValueNodeChange);return ne(()=>{p(m)},[p,m]),e.createElement(A.span,_({},c,{ref:h,style:{pointerEvents:"none"}}),je(d.value)?e.createElement(e.Fragment,null,s):i)}),hn=e.forwardRef((t,o)=>{const{__scopeSelect:n,children:r,...a}=t;return e.createElement(A.span,_({"aria-hidden":!0},a,{ref:o}),r||"▼")}),gn=t=>e.createElement(rn,_({asChild:!0},t)),ie="SelectContent",bn=e.forwardRef((t,o)=>{const n=re(ie,t.__scopeSelect),[r,a]=e.useState();if(ne(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Me.createPortal(e.createElement(ze,{scope:t.__scopeSelect},e.createElement(ve.Slot,{scope:t.__scopeSelect},e.createElement("div",null,t.children))),i):null}return e.createElement(xn,_({},t,{ref:o}))}),J=10,[ze,he]=le(ie),xn=e.forwardRef((t,o)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:c,sideOffset:d,align:p,alignOffset:m,arrowPadding:h,collisionBoundary:C,collisionPadding:g,sticky:v,hideWhenDetached:u,avoidCollisions:x,...f}=t,l=re(ie,n),[$,S]=e.useState(null),[I,q]=e.useState(null),O=K(o,b=>S(b)),[w,N]=e.useState(null),[U,k]=e.useState(null),L=ye(n),[j,F]=e.useState(!1),D=e.useRef(!1);e.useEffect(()=>{if($)return yt($)},[$]),St();const H=e.useCallback(b=>{const[P,...R]=L().map(y=>y.ref.current),[T]=R.slice(-1),E=document.activeElement;for(const y of b)if(y===E||(y==null||y.scrollIntoView({block:"nearest"}),y===P&&I&&(I.scrollTop=0),y===T&&I&&(I.scrollTop=I.scrollHeight),y==null||y.focus(),document.activeElement!==E))return},[L,I]),z=e.useCallback(()=>H([w,$]),[H,w,$]);e.useEffect(()=>{j&&z()},[j,z]);const{onOpenChange:Q,triggerPointerDownPosRef:G}=l;e.useEffect(()=>{if($){let b={x:0,y:0};const P=T=>{var E,y,W,V;b={x:Math.abs(Math.round(T.pageX)-((E=(y=G.current)===null||y===void 0?void 0:y.x)!==null&&E!==void 0?E:0)),y:Math.abs(Math.round(T.pageY)-((W=(V=G.current)===null||V===void 0?void 0:V.y)!==null&&W!==void 0?W:0))}},R=T=>{b.x<=10&&b.y<=10?T.preventDefault():$.contains(T.target)||Q(!1),document.removeEventListener("pointermove",P),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",R,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",R,{capture:!0})}}},[$,Q,G]),e.useEffect(()=>{const b=()=>Q(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[Q]);const[de,X]=Xe(b=>{const P=L().filter(E=>!E.disabled),R=P.find(E=>E.ref.current===document.activeElement),T=Ye(P,b,R);T&&setTimeout(()=>T.ref.current.focus())}),ue=e.useCallback((b,P,R)=>{const T=!D.current&&!R;(l.value!==void 0&&l.value===P||T)&&(N(b),T&&(D.current=!0))},[l.value]),ae=e.useCallback(()=>$==null?void 0:$.focus(),[$]),ee=e.useCallback((b,P,R)=>{const T=!D.current&&!R;(l.value!==void 0&&l.value===P||T)&&k(b)},[l.value]),Y=r==="popper"?Ne:wn,B=Y===Ne?{side:c,sideOffset:d,align:p,alignOffset:m,arrowPadding:h,collisionBoundary:C,collisionPadding:g,sticky:v,hideWhenDetached:u,avoidCollisions:x}:{};return e.createElement(ze,{scope:n,content:$,viewport:I,onViewportChange:q,itemRefCallback:ue,selectedItem:w,onItemLeave:ae,itemTextRefCallback:ee,focusSelectedItem:z,selectedItemText:U,position:r,isPositioned:j,searchRef:de},e.createElement(Ct,{as:Pt,allowPinchZoom:!0},e.createElement(Wt,{asChild:!0,trapped:l.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:M(a,b=>{var P;(P=l.trigger)===null||P===void 0||P.focus({preventScroll:!0}),b.preventDefault()})},e.createElement(Lt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>l.onOpenChange(!1)},e.createElement(Y,_({role:"listbox",id:l.contentId,"data-state":l.open?"open":"closed",dir:l.dir,onContextMenu:b=>b.preventDefault()},f,B,{onPlaced:()=>F(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...f.style},onKeyDown:M(f.onKeyDown,b=>{const P=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!P&&b.key.length===1&&X(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let T=L().filter(E=>!E.disabled).map(E=>E.ref.current);if(["ArrowUp","End"].includes(b.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const E=b.target,y=T.indexOf(E);T=T.slice(y+1)}setTimeout(()=>H(T)),b.preventDefault()}})}))))))}),wn=e.forwardRef((t,o)=>{const{__scopeSelect:n,onPlaced:r,...a}=t,i=re(ie,n),s=he(ie,n),[c,d]=e.useState(null),[p,m]=e.useState(null),h=K(o,O=>m(O)),C=ye(n),g=e.useRef(!1),v=e.useRef(!0),{viewport:u,selectedItem:x,selectedItemText:f,focusSelectedItem:l}=s,$=e.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&p&&u&&x&&f){const O=i.trigger.getBoundingClientRect(),w=p.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),U=f.getBoundingClientRect();if(i.dir!=="rtl"){const E=U.left-w.left,y=N.left-E,W=O.left-y,V=O.width+W,Z=Math.max(V,w.width),ce=window.innerWidth-J,fe=Pe(y,[J,ce-Z]);c.style.minWidth=V+"px",c.style.left=fe+"px"}else{const E=w.right-U.right,y=window.innerWidth-N.right-E,W=window.innerWidth-O.right-y,V=O.width+W,Z=Math.max(V,w.width),ce=window.innerWidth-J,fe=Pe(y,[J,ce-Z]);c.style.minWidth=V+"px",c.style.right=fe+"px"}const k=C(),L=window.innerHeight-J*2,j=u.scrollHeight,F=window.getComputedStyle(p),D=parseInt(F.borderTopWidth,10),H=parseInt(F.paddingTop,10),z=parseInt(F.borderBottomWidth,10),Q=parseInt(F.paddingBottom,10),G=D+H+j+Q+z,de=Math.min(x.offsetHeight*5,G),X=window.getComputedStyle(u),ue=parseInt(X.paddingTop,10),ae=parseInt(X.paddingBottom,10),ee=O.top+O.height/2-J,Y=L-ee,B=x.offsetHeight/2,b=x.offsetTop+B,P=D+H+b,R=G-P;if(P<=ee){const E=x===k[k.length-1].ref.current;c.style.bottom="0px";const y=p.clientHeight-u.offsetTop-u.offsetHeight,W=Math.max(Y,B+(E?ae:0)+y+z),V=P+W;c.style.height=V+"px"}else{const E=x===k[0].ref.current;c.style.top="0px";const W=Math.max(ee,D+u.offsetTop+(E?ue:0)+B)+R;c.style.height=W+"px",u.scrollTop=P-ee+u.offsetTop}c.style.margin=`${J}px 0`,c.style.minHeight=de+"px",c.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[C,i.trigger,i.valueNode,c,p,u,x,f,i.dir,r]);ne(()=>$(),[$]);const[S,I]=e.useState();ne(()=>{p&&I(window.getComputedStyle(p).zIndex)},[p]);const q=e.useCallback(O=>{O&&v.current===!0&&($(),l==null||l(),v.current=!1)},[$,l]);return e.createElement(En,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:q},e.createElement("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S}},e.createElement(A.div,_({},a,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),Ne=e.forwardRef((t,o)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=J,...i}=t,s=Se(n);return e.createElement(on,_({},s,i,{ref:o,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[En,yn]=le(ie,{}),Ae="SelectViewport",Sn=e.forwardRef((t,o)=>{const{__scopeSelect:n,...r}=t,a=he(Ae,n),i=yn(Ae,n),s=K(o,a.onViewportChange),c=e.useRef(0);return e.createElement(e.Fragment,null,e.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),e.createElement(ve.Slot,{scope:n},e.createElement(A.div,_({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:M(r.onScroll,d=>{const p=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&m){const C=Math.abs(c.current-p.scrollTop);if(C>0){const g=window.innerHeight-J*2,v=parseFloat(m.style.minHeight),u=parseFloat(m.style.height),x=Math.max(v,u);if(x<g){const f=x+C,l=Math.min(g,f),$=f-l;m.style.height=l+"px",m.style.bottom==="0px"&&(p.scrollTop=$>0?$:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})}))))}),Cn="SelectGroup",[Pn,Tn]=le(Cn),_n=e.forwardRef((t,o)=>{const{__scopeSelect:n,...r}=t,a=Ee();return e.createElement(Pn,{scope:n,id:a},e.createElement(A.div,_({role:"group","aria-labelledby":a},r,{ref:o})))}),On="SelectLabel",In=e.forwardRef((t,o)=>{const{__scopeSelect:n,...r}=t,a=Tn(On,n);return e.createElement(A.div,_({id:a.id},r,{ref:o}))}),we="SelectItem",[Rn,Ge]=le(we),Dn=e.forwardRef((t,o)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...s}=t,c=re(we,n),d=he(we,n),p=c.value===r,[m,h]=e.useState(i??""),[C,g]=e.useState(!1),v=K(o,f=>{var l;return(l=d.itemRefCallback)===null||l===void 0?void 0:l.call(d,f,r,a)}),u=Ee(),x=()=>{a||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.createElement(Rn,{scope:n,value:r,disabled:a,textId:u,isSelected:p,onItemTextChange:e.useCallback(f=>{h(l=>{var $;return l||(($=f==null?void 0:f.textContent)!==null&&$!==void 0?$:"").trim()})},[])},e.createElement(ve.ItemSlot,{scope:n,value:r,disabled:a,textValue:m},e.createElement(A.div,_({role:"option","aria-labelledby":u,"data-highlighted":C?"":void 0,"aria-selected":p&&C,"data-state":p?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},s,{ref:v,onFocus:M(s.onFocus,()=>g(!0)),onBlur:M(s.onBlur,()=>g(!1)),onPointerUp:M(s.onPointerUp,x),onPointerMove:M(s.onPointerMove,f=>{if(a){var l;(l=d.onItemLeave)===null||l===void 0||l.call(d)}else f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:M(s.onPointerLeave,f=>{if(f.currentTarget===document.activeElement){var l;(l=d.onItemLeave)===null||l===void 0||l.call(d)}}),onKeyDown:M(s.onKeyDown,f=>{var l;((l=d.searchRef)===null||l===void 0?void 0:l.current)!==""&&f.key===" "||(cn.includes(f.key)&&x(),f.key===" "&&f.preventDefault())})}))))}),me="SelectItemText",Nn=e.forwardRef((t,o)=>{const{__scopeSelect:n,className:r,style:a,...i}=t,s=re(me,n),c=he(me,n),d=Ge(me,n),p=un(me,n),[m,h]=e.useState(null),C=K(o,f=>h(f),d.onItemTextChange,f=>{var l;return(l=c.itemTextRefCallback)===null||l===void 0?void 0:l.call(c,f,d.value,d.disabled)}),g=m==null?void 0:m.textContent,v=e.useMemo(()=>e.createElement("option",{key:d.value,value:d.value,disabled:d.disabled},g),[d.disabled,d.value,g]),{onNativeOptionAdd:u,onNativeOptionRemove:x}=p;return ne(()=>(u(v),()=>x(v)),[u,x,v]),e.createElement(e.Fragment,null,e.createElement(A.span,_({id:d.textId},i,{ref:C})),d.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Me.createPortal(i.children,s.valueNode):null)}),An="SelectItemIndicator",Fn=e.forwardRef((t,o)=>{const{__scopeSelect:n,...r}=t;return Ge(An,n).isSelected?e.createElement(A.span,_({"aria-hidden":!0},r,{ref:o})):null}),Mn=e.forwardRef((t,o)=>{const{__scopeSelect:n,...r}=t;return e.createElement(A.div,_({"aria-hidden":!0},r,{ref:o}))});function je(t){return t===""||t===void 0}const qe=e.forwardRef((t,o)=>{const{value:n,...r}=t,a=e.useRef(null),i=K(o,a),s=Rt(n);return e.useEffect(()=>{const c=a.current,d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(s!==n&&m){const h=new Event("change",{bubbles:!0});m.call(c,n),c.dispatchEvent(h)}},[s,n]),e.createElement(Dt,{asChild:!0},e.createElement("select",_({},r,{ref:i,defaultValue:n})))});qe.displayName="BubbleSelect";function Xe(t){const o=se(t),n=e.useRef(""),r=e.useRef(0),a=e.useCallback(s=>{const c=n.current+s;o(c),function d(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[o]),i=e.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return e.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function Ye(t,o,n){const a=o.length>1&&Array.from(o).every(p=>p===o[0])?o[0]:o,i=n?t.indexOf(n):-1;let s=Ln(t,Math.max(i,0));a.length===1&&(s=s.filter(p=>p!==n));const d=s.find(p=>p.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function Ln(t,o){return t.map((n,r)=>t[(o+r)%t.length])}const kn=fn,Hn=mn,Wn=vn,Vn=hn,Bn=gn,Kn=bn,Un=Sn,zn=_n,Gn=In,jn=Dn,qn=Nn,Xn=Fn,Yn=Mn,Ze=e.createContext(null),Je=()=>{const t=e.useContext(Ze);if(t===null)throw new Error("useSelectContext must be used within a SelectProvider");return t},Qe=({children:t,size:o="base",...n})=>e.createElement(Ze.Provider,{value:e.useMemo(()=>({size:o}),[o])},e.createElement(kn,{...n},t));Qe.displayName="Select";const et=zn;et.displayName="Select.Group";const tt=Wn;tt.displayName="Select.Value";const Zn=_t({base:oe("bg-ui-bg-field shadow-buttons-neutral transition-fg flex w-full select-none items-center justify-between rounded-md outline-none","data-[placeholder]:text-ui-fg-muted text-ui-fg-base","hover:bg-ui-bg-field-hover","focus-visible:shadow-borders-interactive-with-active data-[state=open]:!shadow-borders-interactive-with-active","aria-[invalid=true]:border-ui-border-error aria-[invalid=true]:shadow-borders-error","invalid:border-ui-border-error invalid:shadow-borders-error","disabled:!bg-ui-bg-disabled disabled:!text-ui-fg-disabled","group/trigger"),variants:{size:{base:"h-8 px-2 py-1.5 txt-compact-small",small:"h-7 px-2 py-1 txt-compact-small"}}}),nt=e.forwardRef(({className:t,children:o,...n},r)=>{const{size:a}=Je();return e.createElement(Hn,{ref:r,className:oe(Zn({size:a}),t),...n},o,e.createElement(Vn,{asChild:!0},e.createElement(Nt,{className:"text-ui-fg-muted group-disabled/trigger:text-ui-fg-disabled"})))});nt.displayName="Select.Trigger";const ot=e.forwardRef(({className:t,children:o,position:n="popper",sideOffset:r=8,collisionPadding:a=24,...i},s)=>e.createElement(Bn,null,e.createElement(Kn,{ref:s,className:oe("bg-ui-bg-base text-ui-fg-base shadow-elevation-flyout relative max-h-[200px] min-w-[var(--radix-select-trigger-width)] overflow-hidden rounded-lg","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",{"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1":n==="popper"},t),position:n,sideOffset:r,collisionPadding:a,...i},e.createElement(Un,{className:oe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]")},o))));ot.displayName="Select.Content";const rt=e.forwardRef(({className:t,...o},n)=>e.createElement(Gn,{ref:n,className:oe("txt-compact-xsmall-plus text-ui-fg-subtle px-3 py-2",t),...o}));rt.displayName="Select.Label";const at=e.forwardRef(({className:t,children:o,...n},r)=>{const{size:a}=Je();return e.createElement(jn,{ref:r,className:oe("bg-ui-bg-base grid cursor-pointer grid-cols-[20px_1fr] gap-x-2 rounded-md px-3 py-2 outline-none transition-colors","hover:bg-ui-bg-base-hover focus-visible:bg-ui-bg-base-hover",{"txt-compact-medium data-[state=checked]:txt-compact-medium-plus":a==="base","txt-compact-small data-[state=checked]:txt-compact-medium-plus":a==="small"},t),...n},e.createElement("span",{className:"flex h-5 w-5 items-center justify-center"},e.createElement(Xn,null,e.createElement(Ot,null))),e.createElement(qn,{className:"flex-1 truncate"},o))});at.displayName="Select.Item";const ct=e.forwardRef(({className:t,...o},n)=>e.createElement(Yn,{ref:n,className:oe("bg-ui-border-base -mx-1 my-1 h-px",t),...o}));ct.displayName="Select.Separator";const co=Object.assign(Qe,{Group:et,Value:tt,Trigger:nt,Content:ot,Label:rt,Item:at,Separator:ct});export{co as S};
