import{u as p,j as e}from"./index-S--WvUSo.js";import{u as y,R as m}from"./route-focus-modal-MMx5Xnk0.js";import{t as v}from"./zod-jt04JUtm.js";import{u as w,F as r}from"./form-0PHaH8g8.js";import{u as _,s as x,n as C,o as F}from"./index-JzuMwgWW.js";import{C as E}from"./country-select-m4Xtwmuu.js";import{u as I,a as L}from"./products-_PEbH1CR.js";import{I as h}from"./input-A29ux7yj.js";import{B as f}from"./button-Pc5Xo8ua.js";import{c as M}from"./react-router-dom-aSYyayiN.js";import{H as N}from"./heading-cSlef4Su.js";import"./react-PzSkSLoa.js";import"./react-dom-Og6--24v.js";import"./drawer-H3TI1lDZ.js";import"./index-sF0hA49A.js";import"./prompt-LzbVPZYR.js";import"./information-circle-solid-rXH6vJ5W.js";import"./label-HFq5fzpT.js";import"./tooltip-Ixyw9oT8.js";import"./countries-QR_y0WJ_.js";import"./triangles-mini-HukRlWGp.js";const u=_([x(),C()]).transform(i=>i===""?null:Number(i)).optional().nullable(),S=F({weight:u,length:u,width:u,height:u,mid_code:x().optional(),hs_code:x().optional(),origin_country:x().optional()}),P=({product:i})=>{const{t:n}=p(),{handleSuccess:a}=y(),t=w({defaultValues:{height:i.height?i.height:null,width:i.width?i.width:null,length:i.length?i.length:null,weight:i.weight?i.weight:null,mid_code:i.mid_code||"",hs_code:i.hs_code||"",origin_country:i.origin_country||""},resolver:v(S)}),{mutateAsync:j,isLoading:g}=I(i.id),b=t.handleSubmit(async s=>{await j({weight:s.weight?s.weight:void 0,length:s.length?s.length:void 0,width:s.width?s.width:void 0,height:s.height?s.height:void 0,mid_code:s.mid_code,hs_code:s.hs_code,origin_country:s.origin_country},{onSuccess:()=>{a()}})});return e.jsx(m.Form,{form:t,children:e.jsxs("form",{onSubmit:b,className:"flex h-full flex-col",children:[e.jsx(m.Body,{children:e.jsx("div",{className:"flex h-full flex-col gap-y-8",children:e.jsxs("div",{className:"flex flex-col gap-y-4",children:[e.jsx(r.Field,{control:t.control,name:"width",render:({field:{onChange:s,value:l,...c}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:n("fields.width")}),e.jsx(r.Control,{children:e.jsx(h,{type:"number",min:0,value:l||"",onChange:d=>{const o=d.target.value;s(o===""?null:parseFloat(o))},...c})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:t.control,name:"height",render:({field:{onChange:s,value:l,...c}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:n("fields.height")}),e.jsx(r.Control,{children:e.jsx(h,{type:"number",min:0,value:l||"",onChange:d=>{const o=d.target.value;s(o===""?null:Number(o))},...c})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:t.control,name:"length",render:({field:{onChange:s,value:l,...c}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:n("fields.length")}),e.jsx(r.Control,{children:e.jsx(h,{type:"number",min:0,value:l||"",onChange:d=>{const o=d.target.value;s(o===""?null:Number(o))},...c})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:t.control,name:"weight",render:({field:{onChange:s,value:l,...c}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:n("fields.weight")}),e.jsx(r.Control,{children:e.jsx(h,{type:"number",min:0,value:l||"",onChange:d=>{const o=d.target.value;s(o===""?null:Number(o))},...c})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:t.control,name:"mid_code",render:({field:s})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:n("fields.midCode")}),e.jsx(r.Control,{children:e.jsx(h,{...s})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:t.control,name:"hs_code",render:({field:s})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:n("fields.hsCode")}),e.jsx(r.Control,{children:e.jsx(h,{...s})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:t.control,name:"origin_country",render:({field:s})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{children:n("fields.countryOfOrigin")}),e.jsx(r.Control,{children:e.jsx(E,{...s})}),e.jsx(r.ErrorMessage,{})]})})]})})}),e.jsx(m.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(m.Close,{asChild:!0,children:e.jsx(f,{size:"small",variant:"secondary",children:n("actions.cancel")})}),e.jsx(f,{size:"small",type:"submit",isLoading:g,children:n("actions.save")})]})})]})})},ee=()=>{const{id:i}=M(),{t:n}=p(),{product:a,isLoading:t,isError:j,error:g}=L(i);if(j)throw g;return e.jsxs(m,{children:[e.jsx(m.Header,{children:e.jsx(N,{children:n("products.editAttributes")})}),!t&&a&&e.jsx(P,{product:a})]})};export{ee as Component};
