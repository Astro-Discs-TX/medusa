import{u as j,j as e,T as f}from"./index-S--WvUSo.js";import{u as h,a as i}from"./route-focus-modal-MMx5Xnk0.js";import{t as C}from"./zod-jt04JUtm.js";import{u as g,F as s}from"./form-0PHaH8g8.js";import{o as y,s as n}from"./index-JzuMwgWW.js";import{a as _}from"./customers--tqEK1Bz.js";import{t as m}from"./toast-4oQfF9Sm.js";import{B as c}from"./button-Pc5Xo8ua.js";import{H as b}from"./heading-cSlef4Su.js";import{I as a}from"./input-A29ux7yj.js";import"./react-PzSkSLoa.js";import"./react-dom-Og6--24v.js";import"./react-router-dom-aSYyayiN.js";import"./drawer-H3TI1lDZ.js";import"./index-sF0hA49A.js";import"./prompt-LzbVPZYR.js";import"./information-circle-solid-rXH6vJ5W.js";import"./label-HFq5fzpT.js";import"./tooltip-Ixyw9oT8.js";import"./x-circle-solid-rnqhxvfk.js";import"./check-circle-solid-7j4QonPK.js";const v=y({email:n().email(),first_name:n().optional(),last_name:n().optional(),company_name:n().optional(),phone:n().optional()}),F=()=>{const{t:o}=j(),{handleSuccess:d}=h(),{mutateAsync:p,isPending:x}=_(),t=g({defaultValues:{email:"",first_name:"",last_name:"",phone:"",company_name:""},resolver:C(v)}),u=t.handleSubmit(async r=>{await p({email:r.email||void 0,first_name:r.first_name||void 0,last_name:r.last_name||void 0,company_name:r.company_name||void 0,phone:r.phone||void 0},{onSuccess:({customer:l})=>{m.success(o("general.success"),{description:o("customers.create.successToast",{email:l.email}),dismissLabel:o("actions.close")}),d(`/customers/${l.id}`)},onError:l=>{m.error(o("general.error"),{description:l.message,dismissLabel:o("actions.close")})}})});return e.jsx(i.Form,{form:t,children:e.jsxs("form",{onSubmit:u,children:[e.jsx(i.Header,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(i.Close,{asChild:!0,children:e.jsx(c,{size:"small",variant:"secondary",children:o("actions.cancel")})}),e.jsx(c,{size:"small",variant:"primary",type:"submit",isLoading:x,children:o("actions.create")})]})}),e.jsx(i.Body,{className:"flex flex-col items-center py-16",children:e.jsxs("div",{className:"flex w-full max-w-[720px] flex-col gap-y-8",children:[e.jsxs("div",{children:[e.jsx(b,{children:o("customers.create.header")}),e.jsx(f,{size:"small",className:"text-ui-fg-subtle",children:o("customers.create.hint")})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsx(s.Field,{control:t.control,name:"first_name",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.firstName")}),e.jsx(s.Control,{children:e.jsx(a,{autoComplete:"off",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:t.control,name:"last_name",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.lastName")}),e.jsx(s.Control,{children:e.jsx(a,{autoComplete:"off",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:t.control,name:"email",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{children:o("fields.email")}),e.jsx(s.Control,{children:e.jsx(a,{autoComplete:"off",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:t.control,name:"company_name",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.company")}),e.jsx(s.Control,{children:e.jsx(a,{autoComplete:"off",...r})}),e.jsx(s.ErrorMessage,{})]})}),e.jsx(s.Field,{control:t.control,name:"phone",render:({field:r})=>e.jsxs(s.Item,{children:[e.jsx(s.Label,{optional:!0,children:o("fields.phone")}),e.jsx(s.Control,{children:e.jsx(a,{autoComplete:"off",...r})}),e.jsx(s.ErrorMessage,{})]})})]})]})})]})})},K=()=>e.jsx(i,{children:e.jsx(F,{})});export{K as Component};
