---
slug: /references/medusa-workflows/createCompleteReturnValidationStep
sidebar_label: createCompleteReturnValidationStep
tags:
  - step
---

import { TypeList, WorkflowDiagram } from "docs-ui"

# createCompleteReturnValidationStep - Medusa Core Workflows Reference

This documentation provides a reference to the `createCompleteReturnValidationStep`. It belongs to the `@medusajs/medusa/core-flows` package.

This step validates that a return can be created and completed for an order.
If the order is canceled, the items do not exist in the order, 
the return reasons are invalid, or the refund amount is greater than the order total, 
the step will throw an error.

:::note

You can retrieve an order details using [Query](https://docs.medusajs.com/learn/fundamentals/module-links/query),
or [useQueryGraphStep](https://docs.medusajs.com/resources/references/medusa-workflows/steps/useQueryGraphStep).

:::

## Example

```ts
const data = createCompleteReturnValidationStep({
  order: {
    id: "order_123",
    // other order details...
  },
  input: {
    order_id: "order_123",
    items: [
      {
        id: "orli_123",
        quantity: 1,
      }
    ]
  }
})
```

## Input

<TypeList types={[{"name":"CreateCompleteReturnValidationStepInput","type":"[CreateCompleteReturnValidationStepInput](../../../../types/core_flows.CreateCompleteReturnValidationStepInput/page.mdx)","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"order","type":"`any`","description":"The order's details.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"input","type":"[CreateOrderReturnWorkflowInput](../../../../../types/WorkflowTypes/OrderWorkflow/interfaces/types.WorkflowTypes.OrderWorkflow.CreateOrderReturnWorkflowInput/page.mdx)","description":"The data to create a return.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"order_id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"items","type":"[CreateReturnItem](../../../../../types/WorkflowTypes/OrderWorkflow/interfaces/types.WorkflowTypes.OrderWorkflow.CreateReturnItem/page.mdx)[]","description":"","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"quantity","type":"[BigNumberInput](../../../../../types/types/types.BigNumberInput/page.mdx)","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"internal_note","type":"`null` \\| `string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"reason_id","type":"`null` \\| `string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"note","type":"`null` \\| `string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"metadata","type":"`null` \\| `Record<string, any>`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"created_by","type":"`null` \\| `string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"return_shipping","type":"`object`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"option_id","type":"`string`","description":"","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"price","type":"`number`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"labels","type":"[CreateFulfillmentLabelWorkflowDTO](../../../../../types/WorkflowTypes/FulfillmentWorkflow/types/types.WorkflowTypes.FulfillmentWorkflow.CreateFulfillmentLabelWorkflowDTO/page.mdx)[]","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"note","type":"`null` \\| `string`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"receive_now","type":"`boolean`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"refund_amount","type":"`number`","description":"","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"location_id","type":"`null` \\| `string`","description":"Default fallback to the shipping option location id","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]} expandUrl="https://docs.medusajs.com/learn/fundamentals/data-models/manage-relationships#retrieve-records-of-relation" openedLevel={1} sectionTitle="createCompleteReturnValidationStep"/>
