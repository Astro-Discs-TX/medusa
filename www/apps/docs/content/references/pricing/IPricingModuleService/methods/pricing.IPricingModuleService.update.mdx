---
displayed_sidebar: pricingReference
badge:
  variant: orange
  text: Beta
slug: /references/pricing/update
sidebar_label: update
---

import TypeList from "@site/src/components/TypeList"

# update - Pricing Module Reference

This documentation provides a reference to the `update` method. This belongs to the Pricing Module.

## update(id, data, sharedContext?): Promise&#60;[PriceSetDTO](../../interfaces/pricing.PriceSetDTO.mdx)&#62;

This method is used to update a price set.

### Example

```ts
const priceSet = await pricingModuleService.update(
  "pset_123",
  {
    rules: [{ rule_attribute: "region_id" }],
  }
)
```

### Parameters

<TypeList types={[{"name":"id","type":"`string`","description":"The ID of the price set to be updated.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"data","type":"[UpdatePriceSetDTO](../../interfaces/pricing.UpdatePriceSetDTO.mdx)","description":"The attributes of the price set to be updated","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"rules","type":"`object`[]","description":"The rules to associate with the price set.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"rule_attribute","type":"`string`","description":"the value of the rule's `rule_attribute` attribute.","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"prices","type":"[CreatePricesDTO](../../interfaces/pricing.CreatePricesDTO.mdx)[]","description":"The prices to create and add to this price set.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"currency_code","type":"`string`","description":"The currency code of this money amount.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"amount","type":"[BigNumberInput](../../types/pricing.BigNumberInput.mdx)","description":"The amount of this money amount.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"id","type":"`string`","description":"The ID of the money amount.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"min_quantity","type":"`null` \\| [BigNumberInput](../../types/pricing.BigNumberInput.mdx)","description":"The minimum quantity required to be purchased for this money amount to be applied.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"max_quantity","type":"`null` \\| [BigNumberInput](../../types/pricing.BigNumberInput.mdx)","description":"The maximum quantity required to be purchased for this money amount to be applied.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"rules","type":"[CreatePriceSetPriceRules](../../interfaces/pricing.CreatePriceSetPriceRules.mdx)","description":"The rules to add to the price. The object's keys are rule types' `rule_attribute` attribute, and values are the value of that rule associated with this price.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]},{"name":"sharedContext","type":"[Context](../../interfaces/pricing.Context.mdx)","description":"A context used to share resources, such as transaction manager, between the application and the module.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"transactionManager","type":"TManager","description":"An instance of a transaction manager of type `TManager`, which is a typed parameter passed to the context to specify the type of the `transactionManager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"manager","type":"TManager","description":"An instance of a manager, typically an entity manager, of type `TManager`, which is a typed parameter passed to the context to specify the type of the `manager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isolationLevel","type":"`string`","description":"A string indicating the isolation level of the context. Possible values are `READ UNCOMMITTED`, `READ COMMITTED`, `REPEATABLE READ`, or `SERIALIZABLE`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"enableNestedTransactions","type":"`boolean`","description":"A boolean value indicating whether nested transactions are enabled.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"eventGroupId","type":"`string`","description":"A string indicating the ID of the group to aggregate the events to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"transactionId","type":"`string`","description":"A string indicating the ID of the current transaction.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"messageAggregator","type":"[IMessageAggregator](../../interfaces/pricing.IMessageAggregator.mdx)","description":"An instance of a message aggregator, which is used to aggregate messages to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"requestId","type":"`string`","description":"A string indicating the ID of the current request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"idempotencyKey","type":"`string`","description":"A string indicating the idempotencyKey of the current workflow execution.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}  sectionTitle="update"/>

### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;[PriceSetDTO](../../interfaces/pricing.PriceSetDTO.mdx)&#62;","optional":false,"defaultValue":"","description":"The updated price set.","expandable":false,"children":[{"name":"PriceSetDTO","type":"[PriceSetDTO](../../interfaces/pricing.PriceSetDTO.mdx)","optional":false,"defaultValue":"","description":"A price set's data.","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the price set.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"prices","type":"[MoneyAmountDTO](../../interfaces/pricing.MoneyAmountDTO.mdx)[]","description":"The prices that belong to this price set.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the money amount.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"created_at","type":"`Date`","description":"When the money\\_amount was created.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`Date`","description":"When the money\\_amount was updated.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"deleted_at","type":"`null` \\| `Date`","description":"When the money\\_amount was deleted.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"currency_code","type":"`string`","description":"The currency code of this money amount.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"amount","type":"[BigNumberValue](../../types/pricing.BigNumberValue.mdx)","description":"The price of this money amount.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"min_quantity","type":"[BigNumberValue](../../types/pricing.BigNumberValue.mdx)","description":"The minimum quantity required to be purchased for this price to be applied.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"max_quantity","type":"[BigNumberValue](../../types/pricing.BigNumberValue.mdx)","description":"The maximum quantity required to be purchased for this price to be applied.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"calculated_price","type":"[CalculatedPriceSet](../../interfaces/pricing.CalculatedPriceSet.mdx)","description":"The calculated price based on the context.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the price set.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"calculated_amount","type":"`null` \\| [BigNumberValue](../../types/pricing.BigNumberValue.mdx)","description":"The amount of the calculated price, or `null` if there isn't a calculated price.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"original_amount","type":"`null` \\| [BigNumberValue](../../types/pricing.BigNumberValue.mdx)","description":"The amount of the original price, or `null` if there isn't a calculated price.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"currency_code","type":"`null` \\| `string`","description":"The currency code of the calculated price, or null if there isn't a calculated price.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"is_calculated_price_price_list","type":"`boolean`","description":"Whether the calculated price is associated with a price list. During the calculation process, if no valid price list is found,\nthe calculated price is set to the original price, which doesn't belong to a price list. In that case, the value of this property is `false`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"is_original_price_price_list","type":"`boolean`","description":"Whether the original price is associated with a price list. During the calculation process, if the price list of the calculated price is of type override,\nthe original price will be the same as the calculated price. In that case, the value of this property is `true`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"calculated_price","type":"`object`","description":"The details of the calculated price.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"original_price","type":"`object`","description":"The details of the original price.","optional":true,"defaultValue":"","expandable":false,"children":[]}]},{"name":"rule_types","type":"[RuleTypeDTO](../../interfaces/pricing.RuleTypeDTO.mdx)[]","description":"The rule types applied on this price set.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"id","type":"`string`","description":"The ID of the rule type.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"name","type":"`string`","description":"The display name of the rule type.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"rule_attribute","type":"`string`","description":"The unique name used to later identify the rule\\_attribute. For example, it can be used in the `context` parameter of\nthe `calculatePrices` method to specify a rule for calculating the price.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"default_priority","type":"`number`","description":"The priority of the rule type. This is useful when calculating the price of a price set, and multiple rules satisfy\nthe provided context. The higher the value, the higher the priority of the rule type.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"created_at","type":"`string` \\| `Date`","description":"The creation date of the rule type.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"updated_at","type":"`string` \\| `Date`","description":"The update date of the rule type.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}]}]}  sectionTitle="update"/>

## update(selector, data, sharedContext?): Promise&#60;[PriceSetDTO](../../interfaces/pricing.PriceSetDTO.mdx)[]&#62;

This method is used to update a list of price sets determined by the selector filters.

### Example

```ts
const priceSets = await pricingModuleService.update(
  {
    id: ["pset_123", "pset_321"],
  },
  {
    rules: [{ rule_attribute: "region_id" }],
  }
)
```

### Parameters

<TypeList types={[{"name":"selector","type":"[FilterablePriceSetProps](../../interfaces/pricing.FilterablePriceSetProps.mdx)","description":"The filters that will determine which price sets will be updated.","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"$and","type":"([FilterablePriceSetProps](../../interfaces/pricing.FilterablePriceSetProps.mdx) \\| [BaseFilterable](../../interfaces/pricing.BaseFilterable.mdx)&#60;[FilterablePriceSetProps](../../interfaces/pricing.FilterablePriceSetProps.mdx)&#62;)[]","description":"An array of filters to apply on the entity, where each item in the array is joined with an \"and\" condition.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"$or","type":"([FilterablePriceSetProps](../../interfaces/pricing.FilterablePriceSetProps.mdx) \\| [BaseFilterable](../../interfaces/pricing.BaseFilterable.mdx)&#60;[FilterablePriceSetProps](../../interfaces/pricing.FilterablePriceSetProps.mdx)&#62;)[]","description":"An array of filters to apply on the entity, where each item in the array is joined with an \"or\" condition.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"context","type":"`Record<string, [BigNumberInput](../../types/pricing.BigNumberInput.mdx)>`","description":"an object whose keys are the name of the context attribute. Its value can be a string or a BigNumberInput. For example, you can pass the `currency_code` property with its value being the currency code to calculate the price in.\nAnother example is passing the `quantity` property to calculate the price for that specified quantity, which finds a price set whose `min_quantity` and `max_quantity` conditions match the specified quantity.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"id","type":"`string`[]","description":"IDs to filter price sets by.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"money_amounts","type":"[FilterableMoneyAmountProps](../../interfaces/pricing.FilterableMoneyAmountProps.mdx)","description":"Filters to apply on a price set's associated money amounts.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"$and","type":"([FilterableMoneyAmountProps](../../interfaces/pricing.FilterableMoneyAmountProps.mdx) \\| [BaseFilterable](../../interfaces/pricing.BaseFilterable.mdx)&#60;[FilterableMoneyAmountProps](../../interfaces/pricing.FilterableMoneyAmountProps.mdx)&#62;)[]","description":"An array of filters to apply on the entity, where each item in the array is joined with an \"and\" condition.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"$or","type":"([FilterableMoneyAmountProps](../../interfaces/pricing.FilterableMoneyAmountProps.mdx) \\| [BaseFilterable](../../interfaces/pricing.BaseFilterable.mdx)&#60;[FilterableMoneyAmountProps](../../interfaces/pricing.FilterableMoneyAmountProps.mdx)&#62;)[]","description":"An array of filters to apply on the entity, where each item in the array is joined with an \"or\" condition.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"id","type":"`string`[]","description":"IDs to filter money amounts by.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"currency_code","type":"`string` \\| `string`[]","description":"Currency codes to filter money amounts by.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]},{"name":"data","type":"[UpdatePriceSetDTO](../../interfaces/pricing.UpdatePriceSetDTO.mdx)","description":"The attributes to be updated on the selected price sets","optional":false,"defaultValue":"","expandable":false,"children":[{"name":"rules","type":"`object`[]","description":"The rules to associate with the price set.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"rule_attribute","type":"`string`","description":"the value of the rule's `rule_attribute` attribute.","optional":false,"defaultValue":"","expandable":false,"children":[]}]},{"name":"prices","type":"[CreatePricesDTO](../../interfaces/pricing.CreatePricesDTO.mdx)[]","description":"The prices to create and add to this price set.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"currency_code","type":"`string`","description":"The currency code of this money amount.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"amount","type":"[BigNumberInput](../../types/pricing.BigNumberInput.mdx)","description":"The amount of this money amount.","optional":false,"defaultValue":"","expandable":false,"children":[]},{"name":"id","type":"`string`","description":"The ID of the money amount.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"min_quantity","type":"`null` \\| [BigNumberInput](../../types/pricing.BigNumberInput.mdx)","description":"The minimum quantity required to be purchased for this money amount to be applied.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"max_quantity","type":"`null` \\| [BigNumberInput](../../types/pricing.BigNumberInput.mdx)","description":"The maximum quantity required to be purchased for this money amount to be applied.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"rules","type":"[CreatePriceSetPriceRules](../../interfaces/pricing.CreatePriceSetPriceRules.mdx)","description":"The rules to add to the price. The object's keys are rule types' `rule_attribute` attribute, and values are the value of that rule associated with this price.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]},{"name":"sharedContext","type":"[Context](../../interfaces/pricing.Context.mdx)","description":"A context used to share resources, such as transaction manager, between the application and the module.","optional":true,"defaultValue":"","expandable":false,"children":[{"name":"transactionManager","type":"TManager","description":"An instance of a transaction manager of type `TManager`, which is a typed parameter passed to the context to specify the type of the `transactionManager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"manager","type":"TManager","description":"An instance of a manager, typically an entity manager, of type `TManager`, which is a typed parameter passed to the context to specify the type of the `manager`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"isolationLevel","type":"`string`","description":"A string indicating the isolation level of the context. Possible values are `READ UNCOMMITTED`, `READ COMMITTED`, `REPEATABLE READ`, or `SERIALIZABLE`.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"enableNestedTransactions","type":"`boolean`","description":"A boolean value indicating whether nested transactions are enabled.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"eventGroupId","type":"`string`","description":"A string indicating the ID of the group to aggregate the events to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"transactionId","type":"`string`","description":"A string indicating the ID of the current transaction.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"messageAggregator","type":"[IMessageAggregator](../../interfaces/pricing.IMessageAggregator.mdx)","description":"An instance of a message aggregator, which is used to aggregate messages to be emitted at a later point.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"requestId","type":"`string`","description":"A string indicating the ID of the current request.","optional":true,"defaultValue":"","expandable":false,"children":[]},{"name":"idempotencyKey","type":"`string`","description":"A string indicating the idempotencyKey of the current workflow execution.","optional":true,"defaultValue":"","expandable":false,"children":[]}]}]}  sectionTitle="update"/>

### Returns

<TypeList types={[{"name":"Promise","type":"Promise&#60;[PriceSetDTO](../../interfaces/pricing.PriceSetDTO.mdx)[]&#62;","optional":false,"defaultValue":"","description":"The updated price sets.","expandable":false,"children":[{"name":"PriceSetDTO[]","type":"[PriceSetDTO](../../interfaces/pricing.PriceSetDTO.mdx)[]","optional":false,"defaultValue":"","description":"","expandable":false,"children":[{"name":"PriceSetDTO","type":"`object`","description":"A price set's data.","optional":false,"defaultValue":"","expandable":false,"children":[]}]}]}]}  sectionTitle="update"/>
